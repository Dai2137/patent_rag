{
    "doc_number": "2023120212",
    "invention_title": "変換スキップモードにおける信号通知",
    "abstract": "【課題】変換スキップモードにおける係数符号化の効率を改善する映像符号化装置、システム及び方法を提供する。【解決手段】映像符号化方法は、視覚メディアデータの映像領域における現在の映像ブロックを視覚メディアデータのビットストリーム表現に符号化するために、符号化モードおよび／またはイントラ予測モードおよび／または許容イントラ予測モードセットの使用を識別することと、使用を識別する時に、ビットストリーム表現に、現在の映像ブロックに変換スキップモードを選択的に適用することを示す構文要素を含めるかまたは除外するかの決定を行うことと、を含む。変換スキップモードにおいては、現在の映像ブロックと参照映像ブロックとの予測誤差の残差を、変換を適用せずに、視覚メディアデータのビットストリーム表現で表現する。【選択図】図１２",
    "claims": [
        "【請求項1】映像の映像領域における第１の映像ブロックと前記映像のビットストリームとの間の変換中に、差分コーディングモードが前記第１の映像ブロックに対して有効であるか無効であるかを判定することであって、前記差分コーディングモードにおいて、前記第１の映像ブロックのイントラ予測モードで導出される量子化残差と前記量子化残差の予測との差が前記ビットストリームに含まれている、判定することと、 前記判定することに基づいて前記変換を行うことと、を含み、 変換スキップモードが前記第１の映像ブロックに適用されるかどうかを示す第１の構文要素が、前記判定することに基づく前記ビットストリームに条件付きで含まれており、前記変換スキップモードにおいて、変換が予測残差に対してスキップされる、 映像データを処理する方法。",
        "【請求項2】前記差分コーディングモードが有効であると判定することに呼応して、前記変換スキップモードが適用されると推測される、 請求項１に記載の方法。",
        "【請求項3】前記差分コーディングモードが有効であることに呼応して、前記第１の構文要素は前記ビットストリームから除外される、 請求項１に記載の方法。",
        "【請求項4】前記第１の構文要素が前記ビットストリームに含まれるかどうかは、前記第１の映像ブロックのブロック寸法に基づく、 請求項１に記載の方法。",
        "【請求項5】前記第１の構文要素が前記ビットストリームに含まれるかどうかは、前記第１の映像ブロックのコーディングツリー構造に基づく、 請求項１に記載の方法。",
        "【請求項6】前記第１の構文要素が前記ビットストリームに存在しない場合、前記差分コーディングモードが有効であることを示す前記ビットストリームに含まれる第２の構文要素の値に呼応して、前記変換スキップモードが有効であると推測され、 前記第２の構文要素が前記ビットストリームに含まれることは、前記第１の映像ブロックのサイズが閾値以下であるという条件を含む条件下にある、 請求項１に記載の方法。",
        "【請求項7】前記差分コーディングモードが有効であることを示す前記第２の構文要素の値に呼応して、前記第１の映像ブロックに適用される残差サンプルに対する前記差分コーディングモードの予測方向が垂直方向または水平方向であることを示す第３の構文要素が、前記ビットストリームに含まれる、 請求項６に記載の方法。",
        "【請求項8】前記差分が、ブロックベースの差分パルスコーディング変調表現を使用して表現される、 請求項１に記載の方法。",
        "【請求項9】前記映像領域は彩度ブロックである第２の映像ブロックをさらに含み、前記方法はさらに、 前記第２の映像ブロックと前記映像の前記ビットストリームとの間の変換中に、前記第２の映像ブロックが、輝度コンポーネントと少なくとも１つの彩度コンポーネントとが別々のパーティションツリー構造を有する二重ツリー構造に含まれるかどうかを判定すること、を含み、 前記第２の映像ブロックと前映像の前記ビットストリームとの間の変換が、前記第２の映像ブロックが前記二重ツリー構造に含まれるかどうかの前記判定に基づいて実行され、 第１の予測モードの前記第２の映像ブロックへの適用を示す第４の構文要素が前記ビットストリームに存在するかどうかは、少なくとも前記第２の映像ブロックが前記二重ツリー構造に含まれるかどうかに基づいており、前記第１の予測モードでは、前記第２の映像ブロックの予測サンプルは、ブロックベクトルによって決定されるように、同じ復号された映像領域のサンプル値のブロックから導出される、 請求項１に記載の方法。",
        "【請求項10】前記第２の映像ブロックが前記二重ツリー構造に含まれることに呼応して、前記第４の構文要素が前記ビットストリームに存在せず、 前記第４の構文要素は、前記第１の予測モードが無効であることを示す特定の値として推測される、 請求項９に記載の方法。",
        "【請求項11】前記第４の構文要素が前記ビットストリームに存在しない場合、前記第４の構文要素は、少なくとも前記第２の映像ブロックを含むスライスのタイプに基づいて推測される、 請求項９に記載の方法。",
        "【請求項12】前記第１の予測モードが前記第２の映像ブロックに適用される場合、前記第１の予測モードのための候補リストの構築プロセスが実行され、前記候補リストの前記構築プロセスは、 少なくとも１つの空間候補を前記候補リストに追加すること、 少なくとも１つの履歴ベースの動きベクトル予測候補を前記候補リストに追加すること、または、 少なくとも１つのゼロ候補を前記候補リストに追加すること、 のうちの少なくとも１つを含む、 請求項９に記載の方法。",
        "【請求項13】少なくとも１つの空間候補を前記候補リストに追加することは、 特定の隣接ブロックＡ１における空間候補の利用可能性をチェックすることと、前記特定の隣接ブロックＡ１は、前記第２の映像ブロックに対して左下隅に隣接し、 前記特定の隣接ブロックＡ１が利用可能であることに呼応して、前記特定の隣接ブロックＡ１における空間候補を前記候補リストに追加することと、 特定の隣接ブロックＢ１における空間候補の利用可能性をチェックすることと、を含み、前記特定の隣接ブロックＢ１は、前記第２の映像ブロックに対して右上隅に隣接し、 前記特定の隣接ブロックＢ１が利用可能であることに呼応して、前記特定の隣接ブロックＡ１における空間候補と同じ動き情報を有する前記特定の隣接ブロックＢ１における空間候補が、前記候補リストから除外されることを保証する、第１の冗長性チェックが実行される、 請求項１２に記載の方法。",
        "【請求項14】前記構築プロセスはさらに、 前記少なくとも１つの空間候補を追加した後に、前記候補リストのサイズが、前記第１の予測モードに対して許容される最大リストサイズよりも小さい場合に、前記少なくとも１つの履歴ベースの動きベクトル予測候補を前記候補リストに追加すること、を含み、 前記少なくとも１つの履歴ベースの動きベクトル予測候補を追加する場合に、同じ動き情報を有する候補が前記候補リストから除外されることを保証する、第２の冗長性チェックが実行される、 請求項１２に記載の方法。",
        "【請求項15】前記構築プロセスはさらに、 前記候補リストのサイズが前記第１の予測モードに対して許容される最大リストサイズよりも小さいことに呼応して、前記少なくとも１つのゼロ候補を前記候補リストに追加すること、を含む、 請求項１２に記載の方法。",
        "【請求項16】前記変換は、前記第１の映像ブロックを前記ビットストリームに符号化することを含む、 請求項１から１５のいずれか１項に記載の方法。",
        "【請求項17】前記変換は、前記ビットストリームから前記第１の映像ブロックに復号することを含む、 請求項１から１５のいずれか１項に記載の方法。",
        "【請求項18】処理装置と命令を含む非一時的メモリとを備える映像データを処理するための装置であって、前記処理装置による実行時に前記命令は、前記処理装置に、 映像の映像領域における第１の映像ブロックと前記映像のビットストリームとの間の変換中に、差分コーディングモードが前記第１の映像ブロックに対して有効であるか無効であるかを判定することであって、前記差分コーディングモードにおいて、前記第１の映像ブロックのイントラ予測モードで導出される量子化残差と前記量子化残差の予測との差が前記ビットストリームに含まれている、判定することと、 前記判定することに基づいて前記変換を行うことと、を含み、 変換スキップモードが前記第１の映像ブロックに適用されるかどうかを示す第１の構文要素が、前記判定することに基づく前記ビットストリームに条件付きで含まれており、前記変換スキップモードにおいて、変換が予測残差に対してスキップされる、 装置。",
        "【請求項19】命令を記憶する非一時的なコンピュータ可読記憶媒体であって、この命令は、処理装置に、 映像の映像領域における第１の映像ブロックと前記映像のビットストリームとの間の変換中に、差分コーディングモードが前記第１の映像ブロックに対して有効であるか無効であるかを判定することであって、前記差分コーディングモードにおいて、前記第１の映像ブロックのイントラ予測モードで導出される量子化残差と前記量子化残差の予測との差が前記ビットストリームに含まれている、判定することと、 前記判定することに基づいて前記変換を行うことと、を含み、 変換スキップモードが前記第１の映像ブロックに適用されるかどうかを示す第１の構文要素が、前記判定することに基づく前記ビットストリームに条件付きで含まれており、前記変換スキップモードにおいて、変換が予測残差に対してスキップされる、 非一時的なコンピュータ可読記憶媒体。",
        "【請求項20】映像処理装置によって実行される方法によって生成される映像のビットストリームを記憶する非一時的なコンピュータ可読記録媒体であって、前記方法は、 映像の映像領域における第１の映像ブロックと前記映像のビットストリームとの間の変換中に、差分コーディングモードが前記第１の映像ブロックに対して有効であるか無効であるかを判定することであって、前記差分コーディングモードにおいて、前記第１の映像ブロックのイントラ予測モードで導出される量子化残差と前記量子化残差の予測との差が前記ビットストリームに含まれている、判定することと、 前記判定することに基づいて前記ビットストリームを生成することと、を含み、 変換スキップモードが前記第１の映像ブロックに適用されるかどうかを示す第１の構文要素が、前記判定することに基づく前記ビットストリームに条件付きで含まれており、前記変換スキップモードにおいて、変換が予測残差に対してスキップされる、 非一時的なコンピュータ可読記録媒体。"
    ],
    "description": {
        "technical_field": [
            "関連出願の相互参照 パリ条約に基づく適用可能な特許法および／または規則に基づいて、本願は、２０１９年５月２日出願の国際特許出願ＰＣＴ／ＣＮ２０１９／０８５４０５号、２０１９年６月２５日出願の国際特許出願ＰＣＴ／ＣＮ２０１９／０９２８３１号の優先権および利益を適時に主張することを目的とする。法に基づくすべての目的のために、上記出願の開示全体は、本明細書の開示の一部として参照により援用される。",
            "本明細書は、映像および画像符号化／復号化技術に関する。"
        ],
        "background_art": [
            "デジタル映像は、インターネット及び他のデジタル通信ネットワークにおいて最大の帯域幅の使用量を占めている。映像を受信及び表示することが可能である接続されたユーザ機器の数が増加するにつれ、デジタル映像の使用に対する帯域幅需要は増大し続けることが予測される。"
        ],
        "disclosure": {
            "tech_problem": [],
            "tech_solution": [],
            "advantageous_effects": []
        },
        "best_mode": [
            "本明細書は、伸張または復号化されたデジタル映像または画像の品質を向上させるために、画像または映像ビットストリームのデコーダによって使用できる様々な技術を提供する。簡潔にするために、本明細書では、用語「映像」は、一連のピクチャ（従来から映像と呼ばれる）および個々の画像の両方を含むように使用される。さらに、映像エンコーダは、さらなる符号化に使用される復号化されたフレームを再構成するために、符号化の処理中にこれらの技術を実装してもよい。",
            "本明細書では、理解を容易にするために章の見出しを使用しており、１つの章に開示された実施形態をその章にのみ限定するものではない。このように、ある章の実施形態は、他の章の実施形態と組み合わせることができる。",
            "１． 発明の概要 本明細書は、映像符号化技術に関する。具体的には、映像符号化における変換スキップモードにおける係数符号化に関する。ＨＥＶＣのような既存の映像符号化規格に適用してもよいし、規格（Ｖｅｒｓａｔｉｌｅ Ｖｉｄｅｏ Ｃｏｄｉｎｇ）を確定させるために適用してもよい。本発明は、将来の映像符号化規格または映像コーデックにも適用可能である。",
            "２． 初期の協議 映像符号化規格は、主に周知のＩＴＵ－ＴおよびＩＳＯ／ＩＥＣ規格の開発によって発展してきた。ＩＴＵ－ＴはＨ．２６１とＨ．２６３を作り、ＩＳＯ／ＩＥＣはＭＰＥＧ－１とＭＰＥＧ－４ Ｖｉｓｕａｌを作り、両団体はＨ．２６２／ＭＰＥＧ－２ ＶｉｄｅｏとＨ．２６４／ＭＰＥＧ－４ ＡＶＣ（Ａｄｖａｎｃｅｄ Ｖｉｄｅｏ Ｃｏｄｉｎｇ）とＨ．２６５／ＨＥＶＣ規格を共同で作った［１，２］。Ｈ．２６２以来、映像符号化規格は、時間予測と変換符号化が利用されるハイブリッド映像符号化構造に基づく。ＨＥＶＣを超えた将来の映像符号化技術を探索するため、２０１５年には、ＶＣＥＧとＭＰＥＧが共同でＪＶＥＴ（Ｊｏｉｎｔ Ｖｉｄｅｏ Ｅｘｐｌｏｒａｔｉｏｎ Ｔｅａｍ）を設立した。それ以来、多くの新しい方法がＪＶＥＴによって採用され、ＪＥＭ（Ｊｏｉｎｔ Ｅｘｐｌｏｒａｔｉｏｎ Ｍｏｄｅ）と呼ばれる参照ソフトウェアに組み込まれてきた。２０１８年４月には、ＶＣＥＧ（Ｑ６／１６）とＩＳＯ／ＩＥＣ ＪＴＣ１ ＳＣ２９／ＷＧ１１（ＭＰＥＧ）の間にＪｏｉｎｔ Ｖｉｄｅｏ Ｅｘｐｅｒｔ Ｔｅａｍ（ＪＶＥＴ）が発足し、ＨＥＶＣと比較して５０％のビットレート削減を目標にＶＶＣ規格の策定に取り組んでいる。",
            "ＶＶＣドラフトの最新バージョン、即ち、Ｖｅｒｓａｔｉｌｅ Ｖｉｄｅｏ Ｃｏｄｉｎｇ（ドラフト４）は、以下を参照することができる。ｈｔｔｐ：／／ｐｈｅｎｉｘ．ｉｔ－ｓｕｄｐａｒｉｓ．ｅｕ／ｊｖｅｔ／ｄｏｃ＿ｅｎｄ＿ｕｓｅｒ／ｃｕｒｒｅｎｔ＿ｄｏｃｕｍｅｎｔ．ｐｈｐ？ｉｄ＝５７５５",
            "ＶＴＭと呼ばれるＶＶＣの最新の参照ソフトウェアは、以下で確認することができる。 ｈｔｔｐｓ：／／ｖｃｇｉｔ．ｈｈｉ．ｆｒａｕｎｈｏｆｅｒ．ｄｅ／ｊｖｅｔ／ＶＶＣＳｏｆｔｗａｒｅ＿ＶＴＭ／ｔａｇｓ／ＶＴＭ－４．０",
            "２．１ イントラブロックコピー イントラブロックコピー（ＩＢＣ）、別名、現在のピクチャの参照（ＣＰＲ）は、ＨＥＶＣスクリーンコンテンツ符号化拡張機能（ＨＥＶＣ－ＳＣＣ）と現在のＶＶＣテストモデル（ＶＴＭ－４．０）に採用されている。ＩＢＣは、動き補償の概念をインターフレーム符号化からイントラフレーム符号化に拡張する。図１に示すように、現在のブロックは、ＩＢＣが適用される場合、同じピクチャ内の１つの参照ブロックによって予測される。現在のブロックを符号化または復号化する前に、参照ブロックにおけるサンプルは既に再構成されていなければならない。ＩＢＣは、カメラでキャプチャされたほとんどのシーケンスに対してそれほど効率的ではないが、スクリーンコンテンツに対しては、有意な符号化利得を示す。その理由は、スクリーンコンテンツピクチャにおいて、アイコン、文字等の繰り返しパターンが多いためである。ＩＢＣは、これらの繰り返しパターン間の冗長性を有効に除去することができる。ＨＥＶＣ－ＳＣＣにおいて、インター符号化ユニット（ＣＵ）は、現在のピクチャをその参照ピクチャとして選択する場合、ＩＢＣを適用することができる。この場合、ＭＶをブロックベクトル（ＢＶ）と改称し、ＢＶは常に整数画素精度を有する。メインプロファイルＨＥＶＣに適合するように、現在のピクチャは、復号化ピクチャバッファ（ＤＰＢ）における「長期」参照ピクチャとしてマークされる。なお、同様に、複数のビュー／３Ｄ映像符号化規格において、ビュー間の参照ピクチャも「長期」参照ピクチャとしてマークされる。",
            "ＢＶがその参照ブロックを見つけた後、この参照ブロックをコピーすることで予測を生成することができる。残差は、元の信号から参照画素を減算することによって得ることができる。そして、他の符号化モードと同様に、変換および量子化を適用することができる。",
            "しかしながら、参照ブロックがピクチャの外にある場合、または現在のブロックと重複する場合、または再構成された領域の外にある場合、或いは何らかの制約によって制限された有効領域の外にある場合、画素値の一部または全部は規定されない。基本的に、このような問題に対処するために２つの解決策がある。１つは、このような状況、例えばビットストリーム適合性を許可しないことである。もう１つは、これらの未定義の画素値にパディングを適用することである。以下のサブセッションでは、解決策を詳細に説明する。",
            "２．２ ＨＥＶＣスクリーンコンテンツ符号化拡張機能におけるＩＢＣ ＨＥＶＣのスクリーンコンテンツ符号化拡張機能において、１つのブロックが現在のピクチャを参照として使用する場合、以下の仕様のテキストに示すように、参照ブロック全体が利用可能な再構成された領域内にあることを保証すべきである。 変数ｏｆｆｓｅｔＸおよびｏｆｆｓｅｔＹは、以下のように導出される。 ｏｆｆｓｅｔＸ＝（ＣｈｒｏｍａＡｒｒａｙＴｙｐｅ＝＝０）？０：（ｍｖＣＬＸ［０］＆０ｘ７？２：０） （８－１０６） ｏｆｆｓｅｔＹ＝（ＣｈｒｏｍａＡｒｒａｙＴｙｐｅ＝＝０）？０：（ｍｖＣＬＸ［１］＆０ｘ７？２：０） （８－１０７）参照ピクチャが現在のピクチャである場合、輝度動きベクトルｍｖＬＸは、以下の制約に従うべきであることが、ビットストリーム適合性の要件である。 － ６．４．１項で規定されたようなｚ走査順序ブロックの可用性に対する導出処理が、（ｘＣｂ，ｙＣｂ）と等しく設定された（ｘＣｕｒｒ，ｙＣｕｒｒ）と、（ｘＰｂ＋（ｍｖＬＸ［０］＞＞２）－ｏｆｆｓｅｔＸ，ｙＰｂ＋（ｍｖＬＸ［１］＞＞２）－ｏｆｆｓｅｔＹ）に等しく設定された近傍の輝度位置（ｘＮｂＹ，ｙＮｂＹ）と、が入力として呼び出されると、出力はＴＲＵＥとなる。 － ６．４．１項で規定されたようなｚ走査順序ブロックの可用性に対する導出処理が、（ｘＣｂ．ｙＣｂ）と等しく設定された（ｘＣｕｒｒ，ｙＣｕｒｒ）、（ｘＰｂ＋（ｍｖＬＸ［０］＞＞２）＋ｎＰｂＷ－１＋ｏｆｆｓｅｔＸ，ｙＰｂ＋（ｍｖＬＸ［１］＞＞２）＋ｎＰｂＨ－１＋ｏｆｆｓｅｔＹ）に等しく設定された近傍の輝度位置（ｘＮｂＹ，ｙＮｂＹ）を入力として呼び出されると、出力はＴＲＵＥとなる。 － 以下の条件の一方または両方がＴＲＵＥであること。 － （ｍｖＬＸ［０］＞＞２）＋ｎＰｂＷ＋ｘＢ１＋ｏｆｆｓｅｔＸの値が０以下である。 － （ｍｖＬＸ［１］＞＞２）の値＋ｎＰｂＨ＋ｙＢ１＋ｏｆｆｓｅｔＹが０以下である。 － 以下の条件がＴＲＵＥとなること。 （ｘＰｂ＋（ｍｖＬＸ［０］＞＞２）＋ｎＰｂＳｗ－１＋ｏｆｆｓｅｔＸ）／ＣｔｂＳｉｚｅＹ－ｘＣｕｒｒ／ＣｔｂＳｉｚｅＹ＜＝ ｙＣｕｒｒ／ＣｔｂＳｉｚｅＹ－（ｙＰｂ＋（ｍｖＬＸ［１］＞＞２）＋ｎＰｂＳｈ－１＋ｏｆｆｓｅｔＹ）／ＣｔｂＳｉｚｅＹ （８－１０８）",
            "このように、参照ブロックが現在のブロックと重複するケース、または参照ブロックがピクチャの外にあるケースは発生しない。参照ブロックまたは予測ブロックを埋める必要がない。",
            "２．３． ＶＶＣ試験モデルにおけるＩＢＣ 現在のＶＶＣ試験モデル、すなわち、ＶＴＭ－４．０設計において、参照ブロック全体は現在の符号化ツリーユニット（ＣＴＵ）を有するべきであり、現在のブロックと重複しない。よって、参照または予測ブロックをパディングする必要がない。ＩＢＣフラグは、現在のＣＵの予測モードとして符号化される。このように、各ＣＵに対して、ＭＯＤＥ＿ＩＮＴＲＡ、ＭＯＤＥ＿ＩＮＴＥＲ、およびＭＯＤＥ＿ＩＢＣという全部で３つの予測モードが存在する。",
            "２．３．１ ＩＢＣマージモード ＩＢＣマージモードにおいて、ＩＢＣマージ候補リストにおけるエントリを指すインデックスをビットストリームから構文解析する。このＩＢＣマージリストの構築は、以下のステップのシーケンスに従ってまとめることができる。",
            "ステップ１：空間的候補の導出",
            "ステップ２：ＨＭＶＰ候補の挿入",
            "ステップ３：対の平均候補の挿入",
            "空間的マージ候補の導出において、位置Ａ１，Ｂ１，Ｂ０，Ａ０およびＢ２にある候補の中から、最大４つのマージ候補を選択する。導出の順序はＡ１、Ｂ１、Ｂ０、Ａ０、Ｂ２である。位置Ａ１、Ｂ１、Ｂ０、Ａ０のいずれかのＰＵが利用可能でない場合（例えば、別のスライスまたはタイルに属しているため）、またはＩＢＣモードで符号化されていない場合にのみ、位置Ｂ２が考慮される。位置Ａ１の候補を加えた後、残りの候補を挿入すると、冗長性チェックを受け、それにより、同じ動き情報を有する候補を確実にリストから排除でき、符号化効率を向上させることができる。",
            "空間的候補を挿入した後、ＩＢＣマージリストサイズが依然として最大ＩＢＣマージリストサイズより小さい場合、ＨＭＶＰテーブルからのＩＢＣ候補を挿入することができる。ＨＭＶＰ候補の挿入にあたり、冗長性チェックを行う。",
            "最後に、対の平均候補をＩＢＣマージリストに挿入する。",
            "マージ候補によって特定される参照ブロックがピクチャの外にある場合、または現在のブロックと重複する場合、または再構成された領域の外にある場合、或いは何らかの制約によって制限された有効領域の外にある場合、マージ候補は無効なマージ候補と呼ばれる。",
            "なお、ＩＢＣマージリストに無効なマージ候補を挿入してもよい。",
            "２．３．２ ＩＢＣ ＡＭＶＰモード ＩＢＣ ＡＭＶＰモードでは、ＩＢＣ ＡＭＶＰリストにおけるエントリを指すＡＭＶＰインデックスが、ビットストリームから構文解析される。このＩＢＣ ＡＭＶＰリストの構築は、以下のステップのシーケンスに従ってまとめることができる。",
            "ステップ１：空間的候補の導出",
            "利用可能な候補が見つかるまで、Ａ０，Ａ１をチェックする。",
            "利用可能な候補が見つかるまで、Ｂ０、Ｂ１、Ｂ２をチェックする。",
            "ステップ２：ＨＭＶＰ候補の挿入",
            "ステップ３：ゼロ候補の挿入",
            "空間的候補を挿入した後、ＩＢＣ ＡＭＶＰリストサイズが依然として最大ＩＢＣ ＡＭＶＰリストサイズより小さい場合、ＨＭＶＰテーブルからのＩＢＣ候補を挿入することができる。",
            "最後に、ＩＢＣ ＡＭＶＰリストにゼロ候補を挿入する。",
            "２．４ 適応型動きベクトル解像度（ＡＭＶＲ） ＨＥＶＣにおいて、ｕｓｅ＿ｉｎｔｅｇｅｒ＿ｍｖ＿ｆｌａｇがスライスヘッダにおいて０であるとき、１／４輝度サンプルの単位で動きベクトル差分（ＭＶＤ：Ｍｏｔｉｏｎ Ｖｅｃｔｏｒ Ｄｉｆｆｅｒｅｎｃｅ）（動きベクトルとＣＵの予測動きベクトルとの差）が信号通知される。ＶＶＣにおいて、ＣＵレベルの適応型動きベクトル解像度（ＡＭＶＲ）スキームが導入される。ＡＭＶＲは、ＣＵのＭＶＤを異なる精度で符号化することを可能にする。現在のＣＵのモード（通常のＡＭＶＰモード又はアフィンＡＶＭＰモード）に基づいて、現在のＣＵのＭＶＤは、以下のように適応的に選択できる。 － 通常ＡＭＶＰモード：１／４輝度サンプル、整数輝度サンプル又は４輝度サンプル。 － アフィンＡＭＶＰモード： １／４輝度サンプル、整数輝度サンプル又は１／１６輝度サンプル。",
            "現在のＣＵが少なくとも１つの非ゼロＭＶＤモジュールを有する場合、ＣＵレベルＭＶＤ解像度指示が条件付きで信号通知される。すべてのＭＶＤモジュール（すなわち、参照リストＬ０及び参照リストＬ１の水平及び垂直ＭＶＤの両方）がゼロである場合、１／４輝度サンプルＭＶＤ解像度が推測される。",
            "少なくとも１つの非ゼロＭＶＤモジュールの構成要素を有するＣＵの場合、１／４輝度サンプルＭＶＤ精度がＣＵにおいて使用されるかどうかを示すために、第１のフラグが信号通知される。第１のフラグが０である場合、さらなる信号伝達は必要とされず、現在のＣＵのために１／４輝度サンプルＭＶＤ精度が使用される。そうでない場合、通常のＡＭＶＰ ＣＵのために整数輝度サンプル又は４輝度サンプルのＭＶＤ精度が使用されるかどうかを示すために、第２のフラグが信号通知される。同じ第２のフラグは、整数輝度サンプル又は１／１６輝度サンプルのＭＶＤ精度がアフィンＡＭＶＰ ＣＵに使用されるかどうかを示すために使用される。再構成されたＭＶが意図された精度（１／４輝度サンプル、整数輝度サンプル、又は４輝度サンプル）を有することを保証するために、ＣＵの動きベクトル予測子は、ＭＶＤと加算される前に、ＭＶＤと同じ精度に丸められる。動きベクトル予測子をゼロに向かって丸める（すなわち、負の動きベクトル予測子を正の無限大に向かって丸め、正の動きベクトル予測モジュールを負の無限大に向かって丸める）。",
            "エンコーダは、ＲＤチェックを使用して、現在のＣＵの動きベクトルの解像度を決定する。各ＭＶＤ解像度に対してＣＵレベルのＲＤチェックを常に３回行うことを回避するために、ＶＴＭ４では、１／４輝度サンプル以外のＭＶＤ精度のＲＤチェックは、条件付きでのみ呼び出される。通常のＡＶＭＰモードの場合、まず、１／４輝度サンプルＭＶＤ精度及び整数輝度サンプルＭＶ精度のＲＤコストを算出する。次に、整数輝度サンプルＭＶＤ精度のＲＤコストと１／４輝度サンプルＭＶＤ精度のＲＤコストを比較し、４輝度サンプルＭＶＤ精度のＲＤコストをさらにチェックする必要があるかどうかを決定する。１／４輝度サンプルＭＶＤ精度のＲＤコストが整数輝度サンプルＭＶＤ精度のＲＤコストよりもずっと小さい場合、４輝度サンプルＭＶＤ精度のＲＤチェックは省略される。アフィンＡＭＶＰモードにおいて、アフィンマージ／スキップモード、マージ／スキップモード、１／４輝度サンプリングＭＶＤ精度通常ＡＭＶＰモード、１／４輝度サンプリングＭＶＤ精度アフィンＡＭＶＰモードのレート－ひずみ率をチェックした後、アフィンインターモードを選択しなかった場合、１／１６輝度サンプルＭＶ精度、１－画素ＭＶ精度アフィンインターモードはチェックされない。また、１／１６輝度サンプル及び１／４輝度サンプルＭＶ精度アフィンインターモードにおける探索開始点として、１／４輝度サンプルＭＶ精度アフィンインターモードで得られたアフィンパラメータを用いる。",
            "２．５ パレットモード パレットモードの背景にある基本的な考えは、ＣＵにおけるサンプルを代表的な色値の小さな集合で表現することである。この集合をパレットと呼ぶ。また、エスケープシンボルの後に（場合によっては量子化された）成分値を信号通知することによって、パレットの外側にあるサンプルを示すこともできる。これを図２に示す。",
            "２．６ ＨＥＶＣスクリーンコンテンツ符号化拡張機能におけるパレットモード（ＨＥＶＣ－ＳＣＣ） ＨＥＶＣ－ＳＣＣにおけるパレットモードでは、パレットおよびインデックスマップを符号化するために予測方式が用いられる。",
            "２．６．１ パレットエントリの符号化 パレットエントリを符号化するために、パレット予測子が維持される。ＳＰＳにおいて、パレットの最大サイズおよびパレット予測子が信号通知される。ＨＥＶＣ－ＳＣＣにおいて、ｐａｌｅｔｔｅ＿ｐｒｅｄｉｃｔｏｒ＿ｉｎｉｔｉａｌｉｚｅｒ＿ｐｒｅｓｅｎｔ＿ｆｌａｇがＰＰＳに導入される。このフラグが１である場合、ビットストリームにおいて、パレット予測子を初期化するためのエントリが信号通知される。パレット予測子は、各ＣＴＵ行、各スライス、および各タイルの始めに初期化される。ｐａｌｅｔｔｅ＿ｐｒｅｄｉｃｔｏｒ＿ｉｎｉｔｉａｌｉｚｅｒ＿ｐｒｅｓｅｎｔ＿ｆｌａｇの値によって、ｐａｌｅｔｔｅ＿ｐｒｅｄｉｃｔｏｒを０にリセットするか、またはＰＰＳに信号通知されたパレット予測子の初期化エントリを使用してパレット予測子を初期化する。ＨＥＶＣ－ＳＣＣでは、ＰＰＳレベルでパレット予測子の初期化を明確に無効にするために、サイズ０のパレット予測子初期化モジュールを有効化した。",
            "パレット予測子におけるエントリごとに、それが現在のパレットの一部であるかどうかを示すように、再利用フラグが信号通知される。これを図３に示す。再利用フラグは、ゼロのランレングス符号化を使用して送信される。この後、新しいパレットエントリの数は、次数０の指数ゴロムコードを使用して信号通知される。最後に、新しいパレットエントリのための成分値が信号通知される。",
            "２．６．２ パレットインデックスの符号化 パレットインデックスは、図４に示すように、水平方向および垂直方向の横断走査を使用して符号化される。ｐａｌｅｔｔｅ＿ｔｒａｎｓｐｏｓｅ＿ｆｌａｇを使用して、ビットストリームにおける走査順序を明確に信号通知する。以下のサブセクションでは、走査が水平であると仮定する。",
            "パレットインデックスは、２つのメインパレットサンプルモード、すなわち‘ＩＮＤＥＸ’および‘ＣＯＰＹ＿ＡＢＯＶＥ’を使用して符号化される。前述のように、エスケープシンボルも‘ＩＮＤＥＸ’モードとして信号送信され、最大パレットサイズに等しいインデックスが割り当てられる。このモードは、最上行を除くフラグを使用して、または前回のモードが‘ＣＯＰＹ＿ＡＢＯＶＥ’であった場合に信号通知される。‘ＣＯＰＹ＿ＡＢＯＶＥ’モードでは、上の行のサンプルのパレットインデックスをコピーする。‘ＩＮＤＥＸ’モードにおいて、パレットインデックスは明確に信号通知される。‘ＩＮＤＥＸ’モードと‘ＣＯＰＹ＿ＡＢＯＶＥ’モードの両方の場合、同じモードを使用して符号化される後続のサンプルの数を規定する実行値を信号通知する。エスケープシンボルが‘ＩＮＤＥＸ’または‘ＣＯＰＹ＿ＡＢＯＶＥ’モードにおける実行の一部である場合、エスケープシンボルごとにエスケープ成分値が信号通知される。パレットインデックスの符号化を図５に示す。",
            "この構文順序は、以下のようにして実行される。まず、ＣＵのためのインデックス値の数が信号通知される。これに続いて、トランケーテッドバイナリ符号化（ｔｒｕｎｃａｔｅｄ ｂｉｎａｒｙ ｃｏｄｉｎｇ）を使用して、ＣＵ全体の実際のインデックス値を信号通知する。バイパスモードでは、インデックスの数およびインデックス値の両方が符号化される。これにより、インデックス関連バイパスビンがグループ化される。次に、パレットサンプルモード（必要な場合）および実行は、インターリーブ方式で信号通知される。最後に、ＣＵ全体のためのエスケープサンプルに対応する成分エスケープ値をグループ化し、バイパスモードで符号化する。",
            "インデックス値を信号通知した後、追加の構文要素ｌａｓｔ＿ｒｕｎ＿ｔｙｐｅ＿ｆｌａｇを信号通知する。この構文要素は、インデックスの数と連動して、ブロックにおける最後の実行に対応する実行値を信号通知する必要をなくす。",
            "ＨＥＶＣ－ＳＣＣでは、パレットモードは、４：２：２、４：２：０、およびモノクロの彩度フォーマットに対しても有効になる。パレットエントリおよびパレットインデックスの信号通知は、すべての彩度フォーマットに対してほぼ同じである。非モノクロフォーマットの場合、各パレットエントリは、３つの成分からなる。モノクロフォーマットの場合、各パレットエントリは単一の成分からなる。サブサンプリングされた彩度方向の場合、彩度サンプルは、２で割り切れる輝度サンプル指数に関連付けられる。ＣＵのパレットインデックスを再構成した後、１つのサンプルに単一の成分しか関連付けられていない場合、パレットエントリの第１の成分のみが使用される。信号通知における唯一の違いは、エスケープ成分値である。エスケープサンプルごとに、信号通知されるエスケープ成分値の数は、そのサンプルに関連付けられた成分の数によって異なってもよい。",
            "２．７ 変換スキップモードにおける係数符号化 ＪＶＥＴ－Ｍ０４６４号及びＪＶＥＴ－Ｎ０２８０号において、残差符号化を変換スキップレベルの統計及び信号特性に適応させるために、ＴＳ（Ｔｒａｎｓｆｏｒｍ Ｓｋｉｐ）モードにおける係数符号化についていくつかの改良が提案されている。",
            "提案された変形例を以下に示す。",
            "前回の有意な走査位置なし： 残差信号は予測後の空間残差を反映しており、ＴＳに対して変換によるエネルギー圧縮は行われないので、変換ブロックの右下隅の末尾にゼロ又は有意でないレベルがより高い確率で後続することはもはやなくなる。従って、この場合、最後の重要な走査位置信号送信は省略される。",
            "サブブロックＣＢＦ： 最後の重要な走査位置信号がない場合、ＴＳのｃｏｄｅｄ＿ｓｕｂ＿ｂｌｏｃｋ＿ｆｌａｇを有するサブブロックＣＢＦ信号は、次のように変更されることが必要である。",
            "○ 量子化のために、前述の有意でないシーケンスは、依然として変換ブロック内でローカルに発生し得る。従って、前に説明したように、最後の重要な走査位置が除去され、全てのサブブロックに対してｃｏｄｅｄ＿ｓｕｂ＿ｂｌｏｃｋ＿ｆｌａｇが符号化される。",
            "○ ＤＣ周波数位置をカバーするサブブロック（左上のサブブロック）のｃｏｄｅｄ＿ｓｕｂ＿ｂｌｏｃｋ＿ｆｌａｇは、特殊な場合を提示する。ＶＶＣ草案３において、このサブブロックのｃｏｄｅｄ＿ｓｕｂ＿ｂｌｏｃｋ＿ｆｌａｇは決して信号通知されず、常に１に等しいと推測される。最後の有意な走査位置が別のサブブロックに位置する場合、それは、ＤＣサブブロックの外側に少なくとも１つの有意なレベルがあることを意味する。その結果、ＤＣサブブロックは、このサブブロックのｃｏｄｅｄ＿ｓｕｂｂｌｏｃｋ＿ｆｌａｇが１に等しいと推測されるが、ゼロ／非有意レベルのみを含んでもよい。ＴＳに最後の走査位置情報がない場合、各サブブロックのｃｏｄｅｄ＿ｓｕｂ＿ｂｌｏｃｋ＿ｆｌａｇが通知される。これは、他のｃｏｄｅｄ＿ｓｕｂ＿ｂｌｏｃｋ＿ｆｌａｇ構文要素が既に０に等しい場合を除き、ＤＣサブブロックのｃｏｄｅｄ＿ｓｕｂ＿ｂｌｏｃｋ＿ｆｌａｇをも含む。この場合、ＤＣ ｃｏｄｅｄ＿ｓｕｂ＿ｂｌｏｃｋ＿ｆｌａｇは１に等しいと推測される（ｉｎｆｅｒＤｃＳｂＣｂｆ＝１）。このＤＣサブブロックには少なくとも１つの有意なレベルがなければならないので、このＤＣサブブロックにおける他のすべてのｓｉｇ＿ｃｏｅｆｆ＿ｆｌａｇ構文要素が０に等しい場合、（０，０）における第１の位置のｓｉｇ＿ｃｏｅｆｆ＿ｆｌａｇ構文要素は信号通知されず、１に等しくなるように導出される（ｉｎｆｅｒＳｂＤｃＳｉｇＣｏｅｆｆｌａｇ＝１）。",
            "○ ｃｏｄｅｄ＿ｓｕｂ＿ｂｌｏｃｋ＿ｆｌａｇのコンテクストモデリングを変更する。コンテクストモデルインデックスは、ｃｏｄｅｄ＿ｓｕｂ＿ｂｌｏｃｋ＿ｆｌａｇの左側への和と、ｃｏｄｅｄ＿ｓｕｂ＿ｂｌｏｃｋ＿ｆｌａｇの現在のサブブロック上への和と、両方の論理和として計算される。",
            "ｓｉｇ＿ｃｏｅｆｆ＿ｆｌａｇコンテクストモデリング： ｓｉｇ＿ｃｏｅｆｆ＿ｆｌａｇコンテクストモデルにおけるローカルテンプレートは、現在地の走査位置の左側（ＮＢ０）及び上側（ＮＢ１）の近傍のみを含むように修正される。コンテクストモデルオフセットは、重要な近傍位置ｓｉｇ＿ｃｏｅｆｆ＿ｆｌａｇ［ＮＢ０］＋ｓｉｇ＿ｃｏｅｆｆ＿ｆｌａｇ［ＮＢ１］の個数に過ぎない。そこで、今回の変換区間における対角ｄに応じて異なるコンテクスト集合を選択することを排除する。その結果、ｓｉｇ＿ｃｏｅｆｆ＿ｆｌａｇを符号化するための３つのコンテクストモデル及び１つのコンテクストモデル集合が得られる。",
            "ａｂｓ＿ｌｅｖｅｌ＿ｇｔ１＿ｆｌａｇ ａｎｄ ｐａｒ＿ｌｅｖｅｌ＿ｆｌａｇ ｃｏｎｔｅｘｔ ｍｏｄｅｌｌｉｎｇ： ａｂｓ＿ｌｅｖｅｌ＿ｇｔ１＿ｆｌａｇ及びｐａｒ＿ｌｅｖｅｌ＿ｆｌａｇには１つのコンテクストモデルを用いる。",
            "ａｂｓ＿ｒｅｍａｉｎｄｅｒ符号化： 変換スキップ残差絶対レベルの経験的分布は、典型的には、依然としてラプラシアン又は幾何学的分布に適応するが、変換係数絶対レベルよりも大きい不安定性が存在する。具体的には、残留絶対値レベルの場合、連続して実現する窓内の分散が高くなる。これは、ａｂｓ＿ｒｅｍａｉｎｄｅｒシンタックスの二値化及びコンテクストモデリングを以下のように修正する動機となる。",
            "○ ２値化においてより高いカットオフ値、即ち、ｓｉｇ＿ｃｏｅｆｆ＿ｆｌａｇ、ａｂｓ＿ｌｅｖｅｌ＿ｇｔ１＿ｆｌａｇ、ｐａｒ＿ｌｅｖｅｌ＿ｆｌａｇ、及びａｂｓ＿ｌｅｖｅｌ＿ｇｔ３を用いた符号化からａｂｓ＿ｒｅｍａｉｎｄｅｒのＲｉｃｅ符号への移行点と、各ビンの位置に専用のコンテクストモデルを用いることで、より高い圧縮効率が得られる。カットオフを大きくすると、より多くの“Ｘより大きい”フラグがもたらされ、例えば、カットオフに達するまで、ａｂｓ＿ｌｅｖｅｌ＿ｇｔ５＿ｆｌａｇ、ａｂｓ＿ｌｅｖｅｌ＿ｇｔ７＿ｆｌａｇ等を導入していく。カットオフ自体は５に固定される（ｎｕｍＧｔＦｌａｇｓ＝５）。",
            "○ ライスパラメータ導出のためのテンプレートを修正し、すなわち、現在の走査位置の左側の近傍及び上側の近傍のみを、ｓｉｇ＿ｃｏｅｆｆ＿ｆｌａｇコンテクストモデリングのためのローカルテンプレートに類似していると見なす。",
            "ｃｏｅｆｆ＿ｓｉｇｎ＿ｆｌａｇコンテクストモデリング： 符号のシーケンス内の不安定性及び予測残差がしばしば偏っていることに起因して、全体的な経験的分布がほぼ均一に分布している場合であっても、符号はコンテクストモデルを使用して符号化され得る。符号の符号化には１つの専用コンテクストモデルが使用され、符号はｓｉｇ＿ｃｏｅｆｆ＿ｆｌａｇの後に構文解析されて、すべてのコンテクスト符号化ビンが一緒にまとめられる。",
            "２．８ 量子化残差ブロック差動パルスコード変調（ＱＲ－ＢＤＰＣＭ） ＪＶＥＴ－Ｍ０４１３において、量子化された残差ブロック差動パルスコード変調（ＱＲ－ＢＤＰＣＭ）が、スクリーンコンテンツを効率的に符号化するために提案されている。",
            "ＱＲ－ＢＤＰＣＭで使用される予測方向は、垂直予測モードおよび水平予測モードであり得る。イントラ予測は、イントラ予測と同様に、予測方向（水平または垂直予測）にサンプルコピーすることで、ブロック全体で予測する。残差を量子化し、量子化された残差とその予測子（水平または垂直）量子化値との間のデルタを符号化する。これは、以下のように説明することができる。サイズＭ（行）×Ｎ（列）のブロックについて、ｒｉ，ｊ，０≦ｉ≦Ｍ－１、０≦ｊ≦Ｎ－１を、上または左ブロックの境界サンプルからのフィルタリングされていないサンプルを使用して、水平方向（予測ブロックに対して左隣の画素値を１ラインずつコピーする）または垂直方向（予測ブロックにおける各ラインに上隣のラインをコピーする）にイントラ予測を行った後の予測残差とする。Ｑ（ｒｉ，ｊ）、０≦ｉ≦Ｍ－１、０≦ｊ≦Ｎ－１は、残差ｒｉ，ｊの量子化バージョンを表し、この場合、残差は、元のブロックと予測ブロック値との間の差である。次に、ブロックＤＰＣＭが量子化された残差サンプルに適用され、その結果、要素ｒ～ ｉ，ｊを有する修正されたＭ×Ｎ個の配列Ｒ～が得られる。垂直ＢＤＰＣＭが信号通知されると、以下のようになる。",
            "TIFF 2023120212000002.tif 16 170",
            "水平予測の場合、類似した規則が適用され、残差量子化サンプルは、以下の式によって得られる。",
            "TIFF 2023120212000003.tif 13 170",
            "残差量子化サンプルｒ～ ｉ，ｊはデコーダに送られる。",
            "デコーダ側では、上記の計算を逆にして、Ｑ（ｒｉ，ｊ）、０≦ｉ≦Ｍ－１、０≦ｊ≦Ｎ－１を生成する。垂直予測の場合、",
            "TIFF 2023120212000004.tif 9 170",
            "水平方向の場合、",
            "TIFF 2023120212000005.tif 9 170",
            "逆量子化された残差Ｑ－１（Ｑ（ｒｉ，ｊ））をイントラブロック予測値に加算し、再構成されたサンプル値を生成する。",
            "このスキームの主な利点は、逆方向のＤＰＣＭを、係数の構文解析中にオンザフライで行うことができ、係数の構文解析中に予測子を追加するだけで済むこと、または、構文解析後に行うことができることである。",
            "ＱＲ－ＢＤＰＣＭの本文変更案を以下に示す。",
            "７．３．６．５ 符号化ユニット構文",
            "TIFF 2023120212000006.tif 244 166",
            "ｄｂｐｃｍ＿ｆｌａｇ［ｘ０］［ｙ０］が１の場合、位置（ｘ０，ｙ０）の輝度符号化ブロックを含む符号化ユニットにｂｄｐｃｍ＿ｄｉｒ＿ｆｌａｇが存在することを指定する。 ｂｄｐｃｍ＿ｄｉｒ＿ｆｌａｇ［ｘ０］［ｙ０］＝０は、ｂｄｐｃｍブロックで使用される予測方向が水平であることを指定し、そうでない場合、垂直である。",
            "２．９ パーティション構造 ２．９．１ ツリー構造を用いたＣＴＵの分割 ＨＥＶＣにおいて、ＣＴＵは、様々な局所的特徴に適応するように、符号化ツリーと呼ばれる４分木構造を用いてＣＵに分割される。インターピクチャ（時間的）予測またはイントラピクチャ（空間的）予測を使用する、ピクチャ領域を符号化するかどうかの決定は、リーフＣＵレベルで行われる。各リーフＣＵは、ＰＵ分割タイプに応じて１つ、２つまたは４つのＰＵに更に分割することができる。１つのＰＵの内部では、同じ予測処理が適用され、ＰＵ単位で関連情報がデコーダに送信される。ＰＵ分割タイプに基づく予測処理を適用して残差ブロックを得た後、ＣＵのためのコーディングツリー符号化ツリーに類似した別の４分木構造に基づいて、リーフＣＵを変換ユニット（ＴＵ）に分割することができる。ＨＥＶＣ構造の重要な特徴の１つは、ＣＵ、ＰＵ、ＴＵを含む複数のパーティション概念を有することである。",
            "ＶＶＣにおいて、２値及び３値分割セグメンテーション構造を使用するネストされたマルチタイプツリーを有する四分木は、複数の区分ユニットタイプの概念に取って代わる。即ち、それは、最大変換長さに対して大き過ぎるサイズを有するＣＵに必要な場合を除き、ＣＵ、ＰＵ、及びＴＵ概念の分離を排除し、且つＣＵ区分形状のためのより多くの柔軟性をサポートする。符号化ツリー構造において、ＣＵは正方形または長方形のいずれかを有することができる。まず、符号化ツリーユニット（ＣＴＵ）を４分木構造で分割する。そして、四分木のリーフノードは、マルチタイプのツリー構造によってさらに区分され得る。図６に示すとおり、マルチタイプツリー構造の分割タイプには、垂直二分割（ＳＰＬＩＴ＿ＢＴ＿ＶＥＲ）、水平二分割（ＳＰＬＩＴ＿ＢＴ＿ＨＯＲ）、垂直三分割（ＳＰＬＩＴ＿ＴＴ＿ＶＥＲ）、水平三分割（ＳＰＬＩＴ＿ＴＴ＿ＨＯＲ）の４つがある。マルチタイプツリーのリーフノードは、符号化ユニット（ＣＵ）と呼ばれ、ＣＵが大き過ぎて最大変換長にならない限り、このセグメント化は、それ以上の分割なしに、予測及び変換処理に使用される。これは、ほとんどの場合、ＣＵ、ＰＵ、及びＴＵが、ネストされたマルチタイプのツリー符号化ブロック構造を有する四分木において、同じブロックサイズを有することを意味する。サポートされる最大変換長がＣＵの色成分の幅又は高さよりも小さい場合、この例外が生じる。また、輝度及び彩度成分は、Ｉタイル上に別個の区分構造を有する。",
            "２．１０ クロスコンポーネント線形モデル予測 クロスコンポーネント冗長性を低減するために、ＶＴＭ４においてクロスコンポーネント線形モデル（ＣＣＬＭ）予測モードが使用され、この場合、線形モデルを使用することによって、同じＣＵの再構成された輝度サンプルに基づいて、次のように彩度サンプルを予測する。",
            "TIFF 2023120212000007.tif 8 170",
            "ここで、ｐｒｅｄＣ（ｉ，ｊ）は、１つのＣＵにおける予測彩度サンプルを表し、ｒｅｃＬ（ｉ，ｊ）は、同じＣＵがダウンサンプリングされ、再構成された輝度サンプルを表す。ダウンサンプリングされた近傍の輝度サンプルの集まりの中で、最小限のサンプル値を有し、最大限のサンプルを有する輝度サンプルである２つのサンプルの輝度値と彩度値と、それらに対応する彩度サンプルとの間の関係から、線形モデルパラメータα及びβを導出する。線形モデルパラメータα及びβは、以下の式に従って求められる。",
            "TIFF 2023120212000008.tif 20 170",
            "ここで、Ｙａ及びＸａは、輝度サンプル値が最大限である輝度サンプルの輝度値及び彩度値を表す。そして、Ｘｂ及びＹｂは、それぞれ、最小限の輝度サンプルを有する輝度サンプルの輝度値及び彩度値を表す。図７は、左上のサンプルの位置及びＣＣＬＭモードに関与する現在地のサンプルを例示する。",
            "２．１１ 彩度スケーリングを伴う輝度マッピング（ＬＭＣＳ） ＶＴＭ４において、ループフィルタの前に新しい処理ブロックとして彩度スケーリングによる輝度マッピング（ＬＭＣＳ）と呼ばれる符号化ツールが、追加される。ＬＭＣＳは、２つの主な成分を有する。１）適応型区分線形モデルに基づく輝度成分のインループマッピング、および、２）彩度成分のために、輝度依存彩度残差スケーリングを適用する。図８は、デコーダの観点から見たＬＭＣＳアーキテクチャを示す。図８中の影が付けられたブロックは、マッピングされたドメインにおいて処理が適用される場所を示し、これらは、逆量子化、逆変換、輝度イントラ予測、および輝度予測と輝度残差との加算を含む。図８中の影が付けられていないブロックは、元の（即ち、マッピングされていない）ドメインにおいて処理が適用される場所を示し、これらは、非ブロック化、ＡＬＦ、ＳＡＯ等のループフィルタ、動き補償予測、彩度イントラ予測、彩度残差とともに彩度予測を加算し、復号化されたピクチャを参照ピクチャとして記憶することを含む。図８における淡黄色の陰影付きブロックは、輝度信号の前方および後方マッピング並びに輝度依存性彩度スケーリング処理を含む、新しいＬＭＣＳ機能ブロックである。ＶＶＣにおける他のほとんどのツールと同様に、ＬＭＣＳは、ＳＰＳフラグを使用して、シーケンスレベルで有効／無効にすることができる。",
            "３．実施形態が解決しようとする課題の例 ＪＶＥＴ－Ｎ０２８０における係数符号化は、画面内容の符号化において符号化の利点を実現することができるが、係数符号化及びＴＳモードは、依然としていくつかの欠点を有する可能性がある。",
            "（１）ＴＳモードにおいて許容される最大の幅又は高さは、ＰＰＳにおける１つの共通の値によって制御され、これが柔軟性を制限する可能性がある。",
            "（２）すべての符号化グループ（ＣＧ）は、ＴＳモードのためにｃｂｆフラグを信号通知する必要があり、これはオーバーヘッドコストを増大させる可能性がある。",
            "（３）係数走査順序は、イントラ予測モードを考慮していない。",
            "（４）符号フラグ符号化は、１つのコンテクストのみを使用する。",
            "（５）彩度モジュールにおける変換スキップはサポートされていない。",
            "（６）変換スキップフラグは、すべての予測モードに適用され、これは、オーバーヘッドコスト及び符号化の複雑さを増大させる。",
            "４．実施形態の例 以下の詳細な発明は、一般的な概念を説明するための例であると考えられるべきである。これらの発明は狭い意味で解釈されるべきではない。さらに、これらの発明は、任意の方法で組み合わせることができる。 １．ＳＰＳ／ＶＰＳ／ＰＰＳ／ピクチャヘッダ／スライスヘッダ／タイルグループのヘッダ／ＬＣＵの行／ＬＣＵ群において、変換スキップのための最大許容幅及び最大許容高さの表示の両方を信号通知することができる。 ａ．一例において、変換スキップのための最大許容幅及び最大許容高さを、ＳＰＳ／ＶＰＳ／ＰＰＳ／ピクチャヘッダ／スライスヘッダ／タイルグループヘッダ／ＬＣＵの行／ＬＣＵ群において信号通知される異なるメッセージにより、示してもよい。 ｂ．一例において、最大許容幅及び／又は最大許容高さは、まずＳＰＳ／ＰＰＳにおいて信号通知され、次にＬＣＵのピクチャヘッダ／スライスヘッダ／タイルグループヘッダ／ＬＣＵ行／ＬＣＵ群において更新されてもよい。 ２．ＴＳ符号化ブロックは複数の係数群（ＣＧ）に分けられ、少なくとも１つのＣＧの符号化ブロックフラグ（Ｃｂｆ）フラグの信号通知は省略されてもよい。 ａ．一例において、例えば、ＴＳ符号化ブロックのために、すべてのＣＧのＣｂｆフラグの信号通知をスキップしてもよい。 ｂ．一例において、ＴＳモードのために、ＣＧのスキップされたｃｂｆフラグを１と推測することができる。 ｃ．一例において、ＣＧのＣｂｆフラグの一部又は全部をスキップするかは、符号化モードに依存しうる。 ｉ．一例において、ＴＳ符号化されたイントラブロックの場合、ＣＧのすべてのＣｂｆフラグの信号通知はスキップされる。 ｄ．一例において、ＣＧのスキップされたＣｂｆフラグは、以下に基づいて推測されてもよい。 ｉ．ＳＰＳ／ＶＰＳ／ＰＰＳ／ピクチャヘッダ／スライスヘッダ／タイルグループヘッダ／ＬＣＵ行／ＬＣＵ群／ＬＣＵ／ＣＵにおいて信号通知されたメッセージ ｉｉ．ＣＧの位置 ｉｉｉ．現在のブロックおよび／またはその近傍のブロックのブロック寸法 ｉｖ．現在のブロックおよび／またはその近傍のブロックのブロック形状 ｖ．現在のブロック及び／又はその近傍のブロックの最も可能性の高いモード。 ｖｉ．現在のブロックの近傍ブロックの予測モード（イントラ／インター） ｖｉｉ．現在のブロックの近傍ブロックのイントラ予測モード現在のブロックの近傍ブロックの動きベクトル ｖｉｉｉ．現在のブロックの近傍ブロックの動きベクトル ｉｘ．現在のブロックの近傍のブロックのＱＲ－ＢＤＰＣＭモードの指示 ｘ．現在のブロックおよび／またはその近傍のブロックの現在の量子化パラメータ ｘｉ．カラーフォーマットの指示（例えば、４：２：０、４：４：４） ｘｉｉ．単一／二重符号化ツリー構造 ｘｉｉｉ．スライス／タイルグループのタイプおよび／またはピクチャのタイプ ３．ＴＳ符号化ブロックにおける係数走査順序は、ＳＰＳ／ＶＰＳ／ＰＰＳ／ピクチャヘッダ／スライスヘッダ／タイルグループヘッダ／ＬＣＵ行／ＬＣＵ群／ＬＣＵ／ＣＵにおいて信号通知されたメッセージに依存し得る。 ａ．代替的に、ＴＳが使用される場合、ＣＧおよび／または係数走査順序は、イントラ予測モードに依存し得る。 ｉ．一例において、イントラ予測モードが水平方向に優勢である場合、走査順序は垂直であってもよい。 １．１つの例において、イントラ予測モードインデックスが２～３４の範囲にある場合、走査順序は垂直であってもよい。 ２．１つの例において、イントラ予測モードインデックスが２～３３の範囲にある場合、走査順序は垂直であってもよい。 ｉｉ．一例において、イントラ予測モードが垂直方向に優勢である場合、走査順序は垂直であってもよい。 １．一例において、イントラ予測モードインデックスが３４～６６の範囲にある場合、走査順序は垂直であってもよい。 ２．一例において、イントラ予測モードインデックスが３５～６６の範囲にある場合、走査順序は垂直であってもよい。 ｉｉｉ．一例において、イントラ予測モードが垂直方向に優勢である場合、走査順序は水平であってもよい。 １．１つの例において、イントラ予測モードインデックスが３４～６６までの範囲にある場合、走査順序は垂直であってもよい。 ２．１つの例において、イントラ予測モードインデックスが３５～６６までの範囲にある場合、走査順序は垂直であってもよい。 ｉｖ．一例において、イントラ予測モードが水平方向に優勢である場合、走査順序は水平であってもよい。 １．１つの例において、イントラ予測モードインデックスが２～３４の範囲にある場合、走査順序は垂直であってもよい。 ２．１つの例において、イントラ予測モードインデックスが２～３３の範囲にある場合、走査順序は垂直であってもよい。 ４．符号フラグ符号化のコンテクストは、ＴＳモードのための係数ブロックにおける近傍情報に依存し得ることが提案される。 ａ．一例において、現在の符号フラグを符号化するコンテクストは、ＴＳモードのための近傍の符号フラグの値に依存してもよい。 ｉ．一例において、現在の符号フラグを符号化するコンテクストは、左側及び／又は上側の近傍の符号フラグの値に依存し得る。 １．一例において、現在の符号フラグのコンテクストは、Ｃ＝（Ｌ＋Ａ）として導出されてもよく、ここで、Ｃは、コンテクストｉｄであり、Ｌは、その左隣の符号フラグであり、Ａは、その上隣の符号フラグである。 ２．一例において、現在の符号フラグのコンテクストは、Ｃ＝（Ｌ＋Ａ＊２）として導出されてもよく、ここで、Ｃはコンテクストｉｄであり、Ｌはその左隣の符号フラグであり、Ａはその上隣の符号フラグである。 ３．一例において、現在の符号フラグのコンテクストは、Ｃ＝（Ｌ＊２＋Ａ）として導出されてもよく、ここで、Ｃは、コンテクストｉｄであり、Ｌは、その左隣の符号フラグであり、Ａは、その上隣の符号フラグである。 ｉｉ．一例において、現在の符号フラグを符号化するコンテクストは、左、上近傍、及び左上近傍の符号フラグの値に依存し得る。 ｉｉｉ．一例において、現在の符号フラグを符号化するコンテクストは、左、上近傍、左上近傍、右上近傍の符号フラグの値に依存し得る。 ｂ．一例において、現在の符号フラグを符号化するコンテクストは、係数の位置に依存し得る。 ｉ．一例において、符号フラグのコンテクストは、異なる位置で異なってもよい。 ｉｉ．一例において、符号フラグのコンテクストは、ｘ＋ｙに依存してもよく、ここで、ｘ及びｙは、位置の水平及び垂直位置である。 ｉｉｉ．一例において、符号フラグのコンテクストは、ｍｉｎ（ｘ，ｙ）に依存してもよく、ここで、ｘ及びｙは、位置の水平及び垂直位置である。 ｉｖ．一例において、符号フラグのコンテクストは、ｍａｘ（ｘ，ｙ）に依存してもよく、ここで、ｘ及びｙは、位置の水平及び垂直位置である。 ５．彩度変換スキップモードをサポートすることができることが提案される。 ａ．一例において、彩度変換スキップモードの使用は、ＳＰＳ／ＶＰＳ／ＰＰＳ／ピクチャヘッダ／スライスヘッダ／タイルグループヘッダ／ＬＣＵ行／ＬＣＵ群／ＬＣＵ／ＣＵ／映像データユニットにおいて信号通知されたメッセージに基づいてもよい。 ｂ．代替的に、彩度変換スキップモードの使用は、同じ色成分又は他の色成分における１つ以上の代表的な前に符号化されたブロックの復号された情報に基づいてもよい。 ｉ．一例において、代表的なブロックのＴＳフラグの指示がＦＡＬＳＥである場合、彩度ＴＳフラグの指示はＦＡＬＳＥであると推測されてもよい。代替的に、代表ブロックのＴＳフラグの指示がＴＲＵＥである場合、彩度ＴＳフラグの指示がＴＲＵＥであると推測されてもよい。 ｉｉ．一例において、代表ブロックは、輝度ブロック又は彩度ブロックであってもよい。 ｉｉｉ．一例において、代表的なブロックは、並置された輝度ブロック内の任意のブロックであってもよい。 ｉｖ．一例において、代表ブロックは、現在の彩度ブロックの近傍の彩度ブロックの１つであってもよい。 ｖ．一例において、代表ブロックは、現在の彩度ブロック内の中心彩度サンプルの対応する輝度サンプルを覆うブロックであってもよい。 ｖｉ．一例において、代表ブロックは、現在の彩度ブロックにおける右下の彩度サンプルの対応する輝度サンプルを覆うブロックであってもよい。 ６．変換スキップモードを適用するかどうか及び／又はその方法は、ＳＰＳ／ＶＰＳ／ＰＰＳ／ピクチャヘッダ／スライスヘッダ／タイルグループヘッダ／ＬＣＵ行／ＬＣＵ群／ＬＣＵ／ＣＵ／映像データユニットにおいて信号通知されたメッセージに依存し得る。 ａ．一例において、変換スキップモードをいつ及び／又はどのように適用するかの指示は、以下に依存してもよい。 ｉ．現在のブロックおよび／またはその近傍のブロックのブロック寸法 ｉｉ．現在のブロックおよび／またはその近傍のブロックのブロック形状 ｉｉｉ．現在のブロック及び／又はその近傍のブロックの最も可能性の高いモード ｉｖ．現在のブロックの近傍ブロックの予測モード（イントラ／インター） ｖ．現在のブロックの近傍ブロックのイントラ予測モード ｖｉ．現在のブロックの近傍ブロックの動きベクトル ｖｉｉ．現在のブロックの近傍のブロックのＱＲ－ＢＤＰＣＭモードの指示 ｖｉｉｉ．現在のブロックおよび／またはその近傍のブロックの現在の量子化パラメータ ｉｘ．カラーフォーマットの指示（例えば、４：２：０、４：４：４） ｘ．単一／二重符号化ツリー構造 ｘｉ．スライス／タイルグループのタイプおよび／またはピクチャのタイプ ｘｉｉ．時間層ＩＤ ｂ．一例において、予測モードがＩＢＣモードであり、ブロック幅及び／又はブロック高さが閾値よりも小さい／大きい／等しい場合、変換スキップモードを適用してもよい。 ｉ．一例において、閾値は、４，８，１６また３２に設定される。 ｉｉ．一例において、閾値は、ビットストリームにおいて信号通知されてもよい。 ｉｉｉ．一例において、閾値は、次に基づいてもよい。 １．ＳＰＳ／ＶＰＳ／ＰＰＳ／ピクチャヘッダ／スライスヘッダ／タイルグループヘッダ／ＬＣＵ行／ＬＣＵ群／ＬＣＵ／ＣＵにおいて信号通知されたメッセージ ２．現在のブロックおよび／またはその近傍のブロックのブロック寸法 ３．現在のブロックおよび／またはその近傍のブロックのブロック形状 ４．現在のブロック及び／又はその近傍のブロックの最も可能性の高いモード ５．現在のブロックの近傍ブロックの予測モード（イントラ／インター） ６．現在のブロックの近傍ブロックのイントラ予測モード ７．現在のブロックの近傍ブロックの動きベクトル ８．現在のブロックの近傍のブロックのＱＲ－ＢＤＰＣＭモードの指示 ９．現在のブロックおよび／またはその近傍のブロックの現在の量子化パラメータ １０．カラーフォーマットの指示（例えば、４：２：０、４：４：４） １１．単一／二重符号化ツリー構造 １２．スライス／タイルグループのタイプおよび／またはピクチャのタイプ １３．時間層ＩＤ ７．ＴＳモードの指示を信号通知するかどうかは、復号／導出されたイントラ予測モードに依存し得る。 ａ．代替的に、さらに、ＱＲ－ＢＤＰＣＭ符号化ブロックにおいて使用される許可されたイントラ予測モード／方向と、ＱＲ－ＢＤＰＣＭの使用とに依存してもよい。 ｂ．復号化された、または導出されたイントラ予測モードの場合、それがＱＲ－ＢＤＰＣＭ符号化ブロックで使用される許可されたイントラ予測モード／方向の集まりの一部である場合、ＴＳフラグの信号通知はスキップされ得る。 ｉ．一例において、ＱＲ－ＢＤＰＣＭが１つのスライス／ピクチャ／タイル／ブリックを符号化することを許可される場合、ＱＲ－ＢＤＰＣＭプロセスにおいて、垂直及び水平モードは２つの許可されたモードであり、復号／導出されたイントラモードは垂直又は水平モードであり、ＴＳモードの指示は通知されない。 ｃ．一例において、ＱＲ－ＢＤＰＣＭモードの表示（例えば、ｂｄｐｃｍ＿ｆｌａｇ）が１である場合、変換スキップモードは有効であると推測されてもよい。 ｄ．上記方法は、以下に基づいて適用されてもよい。 ｉ．ＳＰＳ／ＶＰＳ／ＰＰＳ／ピクチャヘッダ／スライスヘッダ／タイルグループヘッダ／ＬＣＵ行／ＬＣＵ群／ＬＣＵ／ＣＵにおいて信号通知されたメッセージ ｉｉ．現在のブロックおよび／またはその近傍のブロックのブロック寸法 ｉｉｉ．現在のブロックおよび／またはその近傍のブロックのブロック形状 ｉｖ．現在のブロック及び／又はその近傍のブロックの最も可能性の高いモード ｖ．現在のブロックの近傍のブロックの予測モード（イントラ／インター） ｖｉ．現在のブロックの近傍のブロックのイントラ予測モード ｖｉｉ．現在のブロックの近傍のブロックの動きベクトル ｖｉｉｉ．現在のブロックの近傍のブロックのＱＲ－ＢＤＰＣＭモードの指示 ｉｘ．現在のブロックおよび／またはその近傍のブロックの現在の量子化パラメータ ｘ．カラーフォーマットの指示（例えば、４：２：０、４：４：４） ｘｉ．単一／二重符号化ツリー構造 ｘｉｉ．スライス／タイルグループのタイプおよび／またはピクチャのタイプ ｘｉｉｉ．時間層ＩＤ ８．ＱＲ－ＢＤＰＣＭを適用するかどうか、および／または方法は、ＴＳモードの指示に依存し得る。 ａ．一例において、ＱＲ－ＢＤＰＣＭを適用するかどうかの指示は、ＣＵにおいて信号通知される代わりに、ＴＵ（Ｔｒａｎｓｆｏｒｍ Ｕｎｉｔ）レベルで信号通知されてもよい。 ｉ．一例において、ＴＳモードの指示がＴＵに適用された後、ＱＲ－ＢＤＰＣＭを適用するかどうかの指示を信号通知してもよい。 ｂ．一例において、ＱＲ－ＢＤＰＣＭは、ＴＳモードの特殊な場合として扱われる。 ｉ．１つのブロックがＴＳモードで符号化される場合、ＱＲ－ＢＤＰＣＭモードが適用されるか又は従来のＴＳモードが適用されるかを示すように、別のフラグをさらに信号通知してもよい。それがＱＲ－ＢＤＰＣＭで符号化される場合、ＱＲ－ＢＤＰＣＭにおいて使用される予測方向がさらに信号通知され得る。 ｉｉ．代替的に、１つのブロックがＴＳモードで符号化される場合、どのタイプのＱＲ－ＢＤＰＣＭ（例えば、水平／垂直予測方向に基づくＱＲ－ＢＤＰＣＭ）又は従来のＴＳモードが適用されるかを示すように、別のフラグをさらに信号通知してもよい。 ｃ．一例において、ＴＳモードの指示に基づいて、ＱＲ－ＢＤＰＣＭするかどうかの指示を推測してもよい。 ｉ．一例において、輝度ブロック及び／又は彩度ブロックに対してＱＲ－ＢＤＰＣＭを適用するかどうかの指示は、同じブロックに対して変換スキップフラグを適用するかどうかの指示がＴＲＵＥである場合、ＴＲＵＥであると推測されてもよい。代替的に、輝度ブロック及び／又は彩度ブロックに対して変換スキップフラグを適用するかどうかの指示がＴＲＵＥである場合、同じブロックに対してＱＲ－ＢＤＰＣＭを適用するかどうかの指示は、ＴＲＵＥであると推測されてもよい。 ｉｉ．一例において、輝度ブロック及び／又は彩度ブロックに対してＱＲ－ＢＤＰＣＭを適用するかどうかの指示は、同じブロックに対して変換スキップフラグを適用するかどうかの指示がＦＡＬＳＥである場合、ＦＡＬＳＥに推測されてもよい。代替的に、輝度ブロック及び／又は彩度ブロックに対して変換スキップフラグを適用するかどうかの指示がＦＡＬＳＥである場合、同じブロックに対してＱＲ－ＢＤＰＣＭを適用するかどうかの指示は、ＦＡＬＳＥであると推測されてもよい。 ９．単一／二重ツリーを適用するかどうか及び／又はその方法は、ＳＰＳ／ＶＰＳ／ＰＰＳ／ピクチャヘッダ／スライスヘッダ／タイルグループヘッダ／ＬＣＵ行／ＬＣＵ群／ＬＣＵ／ＣＵ／映像データユニットにおいて信号通知されたメッセージに依存し得る。 ａ．一例において、１つの単一／二重ツリーを適用するかどうかの指示は、現在のスライス／タイル／ＬＣＵ／ＬＣＵ行／ＬＣＵ群／映像データユニットが画面内容として決定されるかどうかに依存し得る。 ｉ．さらに、一例において、スライス／タイル／ＬＣＵ／ＬＣＵ行／ＬＣＵ群／映像データユニットが画面内容として決定されるかどうかは、次に依存し得る。 １．ＳＰＳ／ＶＰＳ／ＰＰＳ／ピクチャヘッダ／スライスヘッダ／タイルグループヘッダ／ＬＣＵ行／ＬＣＵ群／ＬＣＵ／ＣＵ／映像データユニットに信号通知されたメッセージ／フラグ ２．現在のＣＴＵおよび／またはその近傍のＣＴＵのブロック寸法 ３．現在のＣＴＵおよび／またはその近傍のＣＴＵのブロック形状 ４．現在のＣＴＵの現在の量子化パラメータ及び／又はその近傍のＣＴＵの現在の量子化パラメータ ５．カラーフォーマットの指示（例えば、４：２：０、４：４：４） ６．前回のスライス／タイル／ＬＣＵ／ＬＣＵ行／ＬＣＵ群／映像データユニットの単一／二重符号化ツリー構造タイプ ７．スライス／タイルグループのタイプおよび／またはピクチャのタイプ ８．時間層ＩＤ ｂ．一例において、単一／二重ツリーを適用するかどうかの指示は推測されて良く、それは以下に依存し得る。 ｉ．ＳＰＳ／ＶＰＳ／ＰＰＳ／ピクチャヘッダ／スライスヘッダ／タイルグループヘッダ／ＬＣＵ行／ＬＣＵ群／ＬＣＵ／ＣＵ／映像データユニットにおいて信号通知されたメッセージ ｉｉ．前回の符号化画像／タイル／スライス／再構成領域におけるＩＢＣ／Ｉｎｔｅｒモードのハッシュヒット率 ｉｉｉ．現在のＣＴＵおよび／またはその近傍のＣＴＵのブロック寸法 ｉｖ．現在のＣＴＵおよび／またはその近傍のＣＴＵのブロック形状 ｖ．現在のＣＴＵの現在の量子化パラメータ及び／又はその近傍のＣＴＵの現在の量子化パラメータ ｖｉ．カラーフォーマットの指示（例えば、４：２：０、４：４：４） ｖｉｉ．前回のスライス／タイル／ＬＣＵ／ＬＣＵ行／ＬＣＵ群／映像データユニットの単一／二重符号化ツリー構造タイプ ｖｉｉｉ．スライス／タイルグループのタイプおよび／またはピクチャのタイプ ｉｘ．時間層ＩＤ ｃ．一例において、ＣＣＬＭ及び／又はＬＭＣＳを適用するかどうかの指示は、単一／二重符号化ツリー構造のタイプに依存してもよい。 ｉ．一例において、単一／二重ツリーが使用される場合、指示ＣＣＬＭ及び／又はＬＭＣＳは、ＦＡＬＳＥであると推測されてもよい。 ｄ．一例において、単一／二重ツリーを適用するかどうかの指示（即ち、単一ツリー又は二重ツリーのＣＴＵレベル適応）は、二重ツリーを有効化する指示（例えば、ｑｔｂｔｔ＿ｄｕａｌ＿ｔｒｅｅ＿ｉｎｔｒａ＿ｆｌａｇ）がＴＲＵＥであるかどうかに依存してもよい。 ｉ．代替的に、さらに、シーケンス／スライス／タイル／ブリックの二重ツリーが有効でない（例えば、ｑｔｂｔｔ＿ｄｕａｌ＿ｔｒｅｅ＿ｉｎｔｒａ＿ｆｌａｇがｆａｌｓｅ）場合、下位レベル（例えば、ＣＴＵ）で単一／二重ツリーを適用するかどうかの指示はＦＡＬＳＥと推測されてもよい。 １．代替的に、二重ツリーが有効である場合（例えば、ｑｔｂｔｔ＿ｄｕａｌ＿ｔｒｅｅ＿ｉｎｔｒａ＿ｆｌａｇがＴＲＵＥ）、シーケンス／スライス／タイル／ブリックより小さい映像ユニットに単一／二重ツリーを適用するかどうかの指示が通知されてもよい。 ｅ．一例において、単一／二重ツリーを適用するかどうか（即ち、単一ツリー又は二重ツリーのＣＴＵレベル適応）の指示は、ＣＴＵレベルよりも高いレベルのフラグ（例えば、ｓｐｓ＿ａｓｄｔ＿ｆｌａｇ及び／又はｓｌｉｃｅ＿ａｓｄｔ＿ｆｌａｇ）がＴＲＵＥであるかどうかに依存し得る。 ｉ．代替的に、ＣＴＵレベルよりも高いレベルのフラグ（例えば、ｓｐｓ＿ａｓｄｔ＿ｆｌａｇ及び／又はｓｌｉｃｅ＿ａｓｄｔ＿ｆｌａｇ）がＦＡＬＳＥである場合、単一／二重ツリーを適用するかどうかの指示（即ち、単一ツリー又は二重ツリーのＣＴＵレベル適応）がＦＡＬＳＥであると推測されてもよい。 ｆ．上記方法は、単一ツリーパーティションの場合にも適用可能であり、又は単一／二重符号化ツリー構造のタイプにも適用可能である。 １０．ＩＢＣを有効化するかどうかは、符号化ツリー構造のタイプに依存し得る。 ａ．一例において、所与の符号化ツリー構造タイプ（例えば、二重ツリー）の場合、ＩＢＣモードで使用されるＩＢＣモード及び／又はブロックベクトルの指示の信号通知は、省略され、推測されてもよい。 ｂ．一例において、ＩＢＣモードの表示は、二重符号化ツリー構造タイプが適用される場合、ＦＡＬＳＥであると推測され得る。 ｃ．一例において、二重符号化ツリー構造タイプが適用される場合、輝度ブロックのＩＢＣモードの指示はＦＡＬＳＥであると推測され得る。 ｄ．一例において、二重符号化ツリー構造タイプが適用される場合、彩度ブロックのＩＢＣモードの指示はＦＡＬＳＥであると推測され得る。 ｅ．一例において、ＩＢＣモードの指示は、以下に基づいて推測されてもよい。 ｉ．ＳＰＳ／ＶＰＳ／ＰＰＳ／ピクチャヘッダ／スライスヘッダ／タイルグループヘッダ／ＬＣＵ行／ＬＣＵ群／ＬＣＵ／ＣＵ／映像データユニットにおいて信号通知されたメッセージ。 ｉｉ．前回の符号化画像／タイル／スライス／再構成領域におけるＩＢＣ／インターモードのハッシュヒット率 ｉｉｉ．現在のＣＴＵおよび／またはその近傍のＣＴＵのブロック寸法 ｉｖ．現在のＣＴＵおよび／またはその近傍のＣＴＵのブロック形状 ｖ．現在のＣＴＵの現在の量子化パラメータ及び／又はその近傍のＣＴＵの現在の量子化パラメータ ｖｉ．カラーフォーマットの指示（例えば、４：２：０、４：４：４） ｖｉｉ．前回のスライス／タイル／ＬＣＵ／ＬＣＵ行／ＬＣＵ群／映像データユニットの符号化ツリー構造タイプ ｖｉｉｉ．スライス／タイルグループのタイプおよび／またはピクチャのタイプ ｉｘ．時間層ＩＤ １１．ＣＣＬＭを有効化するかどうかは、符号化ツリー構造のタイプに依存しうる。 ａ．一例において、所与の符号化ツリー構造タイプ（例えば、二重ツリー）の場合、ＣＣＬＭモードの指示の信号通知、及び／又はＣＣＬＭモードに関連する他のシンタックスは、スキップされ、推測され得る。 ｂ．一例において、二重符号化ツリー構造タイプが適用される場合、ＣＣＬＭモードの指示はＦＡＬＳＥであると推測され得る。 ｃ．一例において、二重符号化ツリー構造タイプが適用される場合、ＣＣＬＭモードの指示は、以下に基づいて推測されてもよい。 ｉ．ＳＰＳ／ＶＰＳ／ＰＰＳ／ピクチャヘッダ／スライスヘッダ／タイルグループヘッダ／ＬＣＵ行／ＬＣＵ群／ＬＣＵ／ＣＵ／映像データユニットにおいて信号通知されたメッセージ ｉｉ．前回の符号化画像／タイル／スライス／再構成領域におけるＩＢＣ／インターモードのハッシュヒット率 ｉｉｉ．現在のＣＴＵおよび／またはその近傍のＣＴＵのブロック寸法 ｉｖ．現在のＣＴＵおよび／またはその近傍のＣＴＵのブロック形状 ｖ．現在のＣＴＵの現在の量子化パラメータ及び／又はその近傍のＣＴＵの現在の量子化パラメータ ｖｉ．カラーフォーマットの指示（例えば、４：２：０、４：４：４） ｖｉｉ．前回のスライス／タイル／ＬＣＵ／ＬＣＵ行／ＬＣＵ群／映像データユニットの符号化ツリー構造タイプ ｖｉｉｉ．スライス／タイルグループのタイプおよび／またはピクチャのタイプ ｉｘ．時間層ＩＤ １２．彩度成分のためにＬＭＣＳを有効化するかどうかは、符号化ツリー構造のタイプに依存し得る。 ａ．一例において、所与の符号化ツリー構造タイプ（例えば、二重ツリー）の場合、彩度成分のためのＬＭＣＳの指示の信号通知、及び／又はＬＭＣＳモードに関連する他のシンタックスを省略して推測してもよい。 ｂ．一例において、二重符号化ツリー構造タイプが適用される場合、彩度成分のためのＬＭＣＳの指示はＦＡＬＳＥであると推測され得る。 ｃ．一例において、彩度成分のためのＬＭＣＳの指示は、二重符号化ツリー構造タイプが適用される場合、以下に基づいて推測されてもよい。 ｉ．ＳＰＳ／ＶＰＳ／ＰＰＳ／ピクチャヘッダ／スライスヘッダ／タイルグループヘッダ／ＬＣＵ行／ＬＣＵ群／ＬＣＵ／ＣＵ／映像データユニットにおいて信号通知されたメッセージ ｉｉ．前回の符号化画像／タイル／スライス／再構成領域におけるＩＢＣ／インターモードのハッシュヒット率 ｉｉｉ．現在のＣＴＵおよび／またはその近傍のＣＴＵのブロック寸法 ｉｖ．現在のＣＴＵおよび／またはその近傍のＣＴＵのブロック形状 ｖ．現在のＣＴＵの現在の量子化パラメータ及び／又はその近傍のＣＴＵの現在の量子化パラメータ ｖｉ．カラーフォーマットの指示（例えば、４：２：０、４：４：４） ｖｉｉ．前回のスライス／タイル／ＬＣＵ／ＬＣＵ行／ＬＣＵ群／映像データユニットの符号化ツリー構造タイプ ｖｉｉｉ．スライス／タイルグループのタイプおよび／またはピクチャのタイプ ｉｘ．時間層ＩＤ １３．符号化ツリーの構造は、ＩＢＣが使用されるか否かに依存し得る。 ａ．一例において、二重ツリー構造及びＩＢＣ方法は、シーケンス／ピクチャ／タイル／ブリック／ＣＴＵ／ＶＰＤＵ／３２×３２ブロック／６４×３２ブロック／３２×６４ブロックのレベルで同時に有効化されなくてもよい。 ｂ．代替的に、一例において、ＩＢＣ方法が有効である場合、二重ツリー構造は、シーケンス／ピクチャ／タイル／ブリック／ＣＴＵ／ＶＰＤＵ／３２×３２ブロック／６４×３２ブロック／３２×６４ブロックのレベルで無効とされることができる。 ｃ．一例において、１つの領域においてＩＢＣが使用される場合、彩度符号化ツリー構造は、輝度符号化ツリー構造に整列され得る。 ｉ．一例において、前記領域は、シーケンス／ピクチャ／タイル／ブリック／ＣＴＵ／ＶＰＤＵ／３２×３２ブロック／６４×３２ブロック／３２×６４ブロックとしてもよい。 ｉｉ．一例において、並置された輝度ブロックをサブブロックに分割する場合、彩度ブロックは、分割が許可されている場合、サブブロックに分割されてもよい。 ｉｉｉ．一例において、彩度ブロックが分割されるかどうか、及びどのように分割されるかは、その並置された輝度ブロックの符号化構造から推測されてもよい。 ｉｖ．一例において、輝度符号化ツリー構造から彩度符号化ツリー構造を推測する場合、彩度符号化ツリー構造を符号化する信号は省略されてもよい。 ｖ．一例において、フラグは、輝度符号化構造から彩度符号化構造を推測することができるかどうかを示すために使用され得る。フラグの信号伝達は次のことに依存してもよい。 １．ＳＰＳ／ＶＰＳ／ＰＰＳ／ピクチャヘッダ／スライスヘッダ／タイルグループヘッダ／ＬＣＵ行／ＬＣＵ群／ＬＣＵ／ＣＵ／映像データユニットにおいて信号通知されたメッセージ ２．前回の符号化画像／タイル／スライス／再構成領域におけるＩＢＣ／インターモードのハッシュヒット率 ３．現在のＣＴＵおよび／またはその近傍のＣＴＵのブロック寸法 ４．現在のＣＴＵおよび／またはその近傍のＣＴＵのブロック形状 ５．現在のＣＴＵの現在の量子化パラメータ及び／又はその近傍のＣＴＵの現在の量子化パラメータ ６．カラーフォーマットの指示（例えば、４：２：０、４：４：４） ７．前回のスライス／タイル／ＬＣＵ／ＬＣＵ行／ＬＣＵ群／映像データユニットの符号化ツリー構造タイプ ８．スライス／タイルグループのタイプおよび／またはピクチャのタイプ ９．時間層ＩＤ １４．パレット符号化モードを有効化にするかどうかは、符号化ツリー構造のタイプに依存し得る。 ａ．一例において、所与の符号化ツリー構造タイプ（例えば、二重ツリー）の場合、パレット符号化モードの指示の信号通知を省略し、推測してもよい。 ｂ．一例において、二重符号化ツリー構造タイプが適用される場合、パレット符号化モードの表示はＦＡＬＳＥであると推測され得る。 ｃ．一例において、二重符号化ツリー構造タイプが適用される場合、輝度ブロックのパレット符号化モードの指示はＦＡＬＳＥであると推測され得る。 ｄ．一例において、二重符号化ツリー構造タイプが適用される場合、彩度ブロックのパレット符号化モードの指示はＦＡＬＳＥであると推測されてもよい。 ｅ．一例において、パレット符号化モードの指示は、以下に基づいて推測されてもよい。 ｉ．ＳＰＳ／ＶＰＳ／ＰＰＳ／ピクチャヘッダ／スライスヘッダ／タイルグループヘッダ／ＬＣＵ行／ＬＣＵ群／ＬＣＵ／ＣＵ／映像データユニットにおいて信号通知されたメッセージ ｉｉ．前回の符号化画像／タイル／スライス／再構成領域におけるＩＢＣ／インターモードのハッシュヒット率 ｉｉｉ．現在のＣＴＵおよび／またはその近傍のＣＴＵのブロック寸法 ｉｖ．現在のＣＴＵおよび／またはその近傍のＣＴＵのブロック形状 ｖ．現在のＣＴＵの現在の量子化パラメータ及び／又はその近傍のＣＴＵの現在の量子化パラメータ ｖｉ．カラーフォーマットの指示（例えば、４：２：０、４：４：４） ｖｉｉ．前回のスライス／タイル／ＬＣＵ／ＬＣＵ行／ＬＣＵ群／映像データユニットの符号化ツリー構造タイプ ｖｉｉｉ．スライス／タイルグループのタイプおよび／またはピクチャのタイプ ｉｘ．時間層ＩＤ １５．符号化ツリーの構造は、パレット符号化モードを使用するか否かに依存することができる。 ａ．一例において、１つの領域においてパレット符号化モードが使用される場合、彩度符号化ツリー構造は、輝度符号化ツリー構造に整列され得る。 ｉ．一例において、この領域は、シーケンス／ピクチャ／タイル／ブリック／ＣＴＵ／ＶＰＤＵ／３２×３２ブロック／６４×３２ブロックであってもよい。 ｉｉ．一例において、並置された輝度ブロックをサブブロックに分割する場合、彩度ブロックは、分割が許可されている場合、サブブロックに分割されてもよい。 ｉｉｉ．一例において、彩度ブロックが分割されるかどうか、及びどのように分割されるかは、その並置された輝度ブロックの符号化構造から推測されてもよい。 ｉｖ．一例において、輝度符号化ツリー構造から彩度符号化ツリー構造を推測する場合、彩度符号化ツリー構造を符号化する信号は省略されてもよい。 ｖ．一例において、フラグは、輝度符号化構造から彩度符号化構造を推測することができるかどうかを示すために使用され得る。フラグの信号伝達は次のことに依存してもよい。 １．ＳＰＳ／ＶＰＳ／ＰＰＳ／ピクチャヘッダ／スライスヘッダ／タイルグループヘッダ／ＬＣＵ行／ＬＣＵ群／ＬＣＵ／ＣＵ／映像データユニットにおいて信号通知されたメッセージ ２．前回の符号化画像／タイル／スライス／再構成領域におけるＩＢＣ／インターモードのハッシュヒット率 ３．現在のＣＴＵおよび／またはその近傍のＣＴＵのブロック寸法 ４．現在のＣＴＵおよび／またはその近傍のＣＴＵのブロック形状 ５．現在のＣＴＵの現在の量子化パラメータ及び／又はその近傍のＣＴＵの現在の量子化パラメータ ６．カラーフォーマットの指示（例えば、４：２：０、４：４：４） ７．前回のスライス／タイル／ＬＣＵ／ＬＣＵ行／ＬＣＵ群／映像データユニットの符号化ツリー構造タイプ ８．スライス／タイルグループのタイプおよび／またはピクチャのタイプ ９．時間層ＩＤ １６．彩度ＩＢＣ符号化ブロックにおけるサブブロック／サンプルの動き／ブロックベクトルは、並置された輝度ブロック内の第１の利用可能なＩＢＣ符号化サブ領域から導出されてもよい。 ａ．一例において、並置された輝度ブロック内のサブ領域の走査順序、例えばラスタ走査順序を規定してもよい。 ｂ．一例において、１つのサブ領域は、最小符号化単位／最小変換単位として定義されうる。 ｃ．一例において、彩度ＩＢＣモードにおける全サンプルの動き／ブロックベクトルは、並置輝度ブロックにおいてＩＢＣ又はインターモードで符号化された最も左上のサンプルの動きベクトルに基づいて導出されてもよい。 １７．彩度ＩＢＣモードでは、動き／ブロックベクトルを信号通知することができる。 ａ．一例において、動きベクトルと動きベクトル予測モジュールとの間の差を信号通知してもよい。 ｉ．一例において、動きベクトル予測モジュールは、並置された輝度ブロック、並置された輝度ブロックの近傍の輝度ブロック、現在の彩度ブロックの近傍の彩度ブロックの動きベクトルに基づいて導出されてもよい。 １．一例において、動き／ブロックベクトル予測モジュールは、並置された輝度ブロックにおける左上のサンプルの動きベクトルに基づいて導出されてもよい。 ２．一例において、動き／ブロックベクトル予測モジュールは、同じ場所にある輝度ブロックにおける中心位置を有するサンプルの動きベクトルに基づいて導出されてもよい。 ３．一例において、動き／ブロックベクトル予測モジュールは、並置された輝度ブロックにおけるＩＢＣ又はインターモードで符号化された最も左上のサンプルの動きベクトルに基づいて導出されてもよい。 ｉｉ．一例において、輝度成分の１つのサブ領域に関連付けられた動きベクトル予測モジュールは、予測モジュールとして使用される前にスケーリングされてもよい。 ｉｉｉ．一例において、ブロックベクトルは、近傍する（隣接又は非隣接の）彩度ブロックの動きベクトル／ブロックベクトルから導出されてもよい。 ｂ．一例において、ブロックベクトル候補リストを構築し、このリストへのインデックスを信号通知することができる。 ｉ．一例において、候補リストは、並置された輝度ブロック、並置された輝度ブロックの近傍の輝度ブロック、及び近傍の彩度ブロックからの動きベクトル／ブロックベクトルを含んでもよい。 ｃ．一例において、ＡＭＶＲフラグの表示は、推測されてもよい。 ｉ．一例において、ＡＭＶＲフラグの表示は、彩度ＩＢＣモードで符号化されたブロックにおいて、ＦＡＬＳＥ（０）であると推測されてもよい。 ｉｉ．一例において、動きベクトルの差の指標は、彩度ＩＢＣモードで符号化されたブロックにおいて、整数精度で推測されてもよい。 ｄ．一例において、彩度ＩＢＣモードでは、別個のＨＭＶＰテーブルを使用してもよい。 ｉ．一例において、彩度ＨＭＶＰテーブル及び輝度ＨＭＶＰテーブルのサイズは異なってもよい。 ｅ．一例において、彩度ＩＢＣモードにおいてブロック／動きベクトルを信号通知するかどうかは、以下に基づいて判定されてもよい。 ｉ．並置された輝度ブロック内のすべてのサブ領域がＩＢＣモードで符号化されるかどうか。 １．そうである場合、彩度ブロックのブロックベクトルを信号通知する必要がない。そうでない場合、彩度ブロックのブロックベクトルを信号通知することができる。 ｉｉ．並置された輝度ブロック内のすべてのサブ領域がＩＢＣモードで符号化され、関連付けられたブロックベクトルがすべて有効であるかどうか。 １．そうである場合、彩度ブロックのブロックベクトルを信号通知する必要がない。そうでない場合、彩度ブロックのブロックベクトルを信号通知することができる。 ｉｉｉ．ＳＰＳ／ＶＰＳ／ＰＰＳ／ピクチャヘッダ／スライスヘッダ／タイルグループヘッダ／ＬＣＵ行／ＬＣＵ群／ＬＣＵ／ＣＵ／映像データユニットにおいて信号通知されたメッセージ。 ｉｖ．前回の符号化画像／タイル／スライス／再構成領域におけるＩＢＣ／インターモードのハッシュヒット率 ｖ．現在のＣＴＵおよび／またはその近傍のＣＴＵのブロック寸法 ｖｉ．現在のＣＴＵおよび／またはその近傍のＣＴＵのブロック形状 ｖｉｉ．現在のＣＴＵの現在の量子化パラメータ及び／又はその近傍のＣＴＵの現在の量子化パラメータ ｖｉｉｉ．カラーフォーマットの指示（例えば、４：２：０、４：４：４） ｉｘ．前回のスライス／タイル／ＬＣＵ／ＬＣＵ行／ＬＣＵ群／映像データユニットの符号化ツリー構造タイプ ｘ．スライス／タイルグループのタイプおよび／またはピクチャのタイプ ｘｉ．時間層ＩＤ １８．単一ツリー及び分離／二重ツリー選択／信号通知は、ＣＴＵ／ＣＴＢより下のレベルにあってもよい。 ａ．一例において、単一のツリー及び分離／二重ツリー選択／信号通知は、ＶＰＤＵレベルにあってもよい。 ｂ．一例において、単一のツリー及び別個の／二重のツリー選択／信号通知は、明示的な分割ツリー信号通知が開始するレベルにあってもよい。",
            "上述した例は、以下に説明する方法、例えば、方法９００、９１０、９２０、９３０、９４０に含まれてもよく、これらの方法は、映像デコーダ又は映像エンコーダにおいて実施されてもよい。",
            "映像処理のための例示的な方法は、現在の映像ブロックと、現在の映像ブロックを構成する映像のビットストリーム表現との間で変換を実行することを含み、その変換はビットストリーム表現に含まれるインジケータに基づいて、変換のために変換スキップモードを選択的に使用し、変換スキップモードを使用して、変換を適用せずに現在の映像ブロックの予測誤差の残差をビットストリーム表現に表現する。",
            "いくつかの実施例において、この指標は、変換スキップモードにおいて許容される最大の幅及び許容される最大の高さである。",
            "いくつかの実施例において、最大許容幅及び最大許容高さは、シーケンスパラメータセット（ＳＰＳ）、映像パラメータセット（ＶＰＳ）、ピクチャパラメータセット（ＰＰＳ）、ピクチャヘッダ、スライスヘッダ、タイルヘッダ、最大符号化ユニット（ＬＣＵ）行又はＬＣＵ群において通知される。",
            "いくつかの実施例において、最大許容幅及び最大許容高さは異なるメッセージで通知される。",
            "いくつかの実施例において、最大許容幅及び高さは、シーケンスパラメータセット（ＳＰＳ）又はピクチャパラメータセット（ＰＰＳ）において信号通知され、最大許容幅及び高さの更新値は、ピクチャヘッダ、スライスヘッダ、タイルグループヘッダ、最大符号化ユニット（ＬＣＵ）行又はＬＣＵ群において信号通知される。",
            "図９Ａは、例示的な映像処理方法の別のフローチャートを示す。方法９００は、ステップ９０２において、変換スキップモード（ｔｒａｎｓｆｏｒｍ ｓｋｉｐ ｍｏｄｅ）を用いて現在の映像ブロックを符号化するかを決定することを含む。",
            "方法９００は、ステップ９０４において、決定に基づいて、現在の映像ブロックと現在の映像ブロックを構成する映像のビットストリーム表現との間の変換を実行することを含む。",
            "いくつかの実施例において、現在の映像ブロックは複数個の係数群に分けられ、ビットストリーム表現は複数個の係数群のうち少なくとも１つの係数群に対する符号化ブロックフラグの信号通知を省略する。一例において、このビットストリーム表現は、複数の係数群のそれぞれについての符号化ブロックフラグの信号通知を省略する。",
            "いくつかの実施例において、ビットストリーム表現における信号通知において省略された符号化ブロックフラグは、次の１つ以上に基づいて推測される。（１）シーケンスパラメータセット（ＳＰＳ）、映像パラメータセット（ＶＰＳ）、ピクチャパラメータセット（ＰＰＳ）、ピクチャヘッダ、スライスヘッダ、タイルグループヘッダ、最大符号化ユニット（ＬＣＵ）、ＬＣＵ行、ＬＣＵ群又は符号化ユニット（ＣＵ）に信号通知されたメッセージ、（２）複数の係数群のうちの少なくとも１つの係数群の位置、（３）現在の映像ブロック又は少なくとも１つの近傍ブロックのブロック寸法、（４）現在の映像ブロック又は少なくとも１つの近傍ブロックのブロック形状、（５）現在の映像ブロック又は少なくとも一つの近傍ブロックの最大確率モード、（６）少なくとも１つの近傍ブロックの予測モード、（７）少なくとも１つの近傍ブロックのイントラ予測モード、（８）少なくとも１つの近傍ブロックの１つ以上の動きベクトル、（９）少なくとも１つの近傍ブロックの量子化残差パルス符号変調（ＱＲ－ＢＤＰＣＭ）モードの指示、（１０）現在の映像ブロック又は少なくとも１つの近傍ブロックの現在の量子化パラメータ（ＱＰ）、（１１）現在の映像ブロックのカラーフォーマットの指示、（１２）現在の映像ブロックに関連付けられた別個の又は二重符号化ツリー構造、又は（１３）現在の映像ブロックのスライスタイプ、タイルグループタイプ又はピクチャタイプ。",
            "いくつかの実施例において、現在の映像ブロックを複数の係数群に分割し、方法９００は複数の係数群の係数走査順序を決定することを更に含む。一例において、前記係数走査順序は、シーケンスパラメータセット（ＳＰＳ）、映像パラメータセット（ＶＰＳ）、ピクチャパラメータセット（ＰＰＳ）、ピクチャヘッダ、スライスヘッダ、タイルグループヘッダ、最大符号化ユニット（ＬＣＵ）、ＬＣＵ行、ＬＣＵ群又は符号化ユニット（ＣＵ）において信号通知されるメッセージに基づいている。",
            "本発明の実施例において、前記複数個の係数群又は係数走査順序は現在の映像ブロックのイントラ予測モードに基づく。一例において、係数走査順序は垂直であり、イントラ予測モードは水平方向に支配的である。別の例において、係数走査順序は水平であり、イントラ予測モードは水平方向に支配的である。例えば、イントラ予測モードのインデックスは、２から３３又は２から３４の範囲である。",
            "本発明の実施例において、前記複数個の係数群又は係数走査順序は現在の映像ブロックのイントラ予測モードに基づく。一例において、係数走査順序は垂直であり、イントラ予測モードは垂直に支配的である。別の例において、係数走査順序は水平であり、イントラ予測モードは垂直方向に支配的である。例えば、イントラ予測モードのインデックスは、３４から６６又は３５から６６である。",
            "いくつかの実施例において、符号フラグのコンテクストは、現在の映像ブロックに関連した係数ブロックにおける近傍情報に基づく。一例において、符号フラグのコンテクストは、係数ブロックの係数の位置にさらに基づく。別の例において、符号フラグのコンテクストは、（ｘ＋ｙ）、ｍｉｎ（ｘ，ｙ）又はｍａｘ（ｘ，ｙ）に基づいており、ｘ及びｙは、それぞれ係数の位置の横値及び縦値である。",
            "図９Ｂは、例示的な映像処理方法のさらに別のフローチャートを示す。方法９１０は、ステップ９１２において、現在の映像ブロックに対して、彩度変換スキップモードが適用可能であることを決定することを含む。",
            "方法９１０は、ステップ９１４において、決定に基づいて、現在の映像ブロックと、現在の映像ブロックを構成する映像のビットストリーム表現との間の変換を実行することを含む。",
            "いくつかの実施例において、前記決定は、シーケンスパラメータセット（ＳＰＳ）、映像パラメータセット（ＶＰＳ）、ピクチャパラメータセット（ＰＰＳ）、ピクチャヘッダ、スライスヘッダ、タイルグループヘッダ、最大符号化ユニット（ＬＣＵ）、ＬＣＵ行、ＬＣＵ群、符号化ユニット（ＣＵ）又は映像データユニットにおいて信号通知されるメッセージに基づいている。",
            "いくつかの実施例において、この決定は変換を実行する前に復号された１つ以上の代表的な映像ブロックからの復号情報に基づいて行われ、ここで、１つ以上の代表的な映像ブロック及び現在の映像ブロックのそれぞれにおけるサンプルは、共通の色情報に基づいている。一例において、１つ以上の代表的な映像ブロックは、輝度ブロック又は彩度ブロックから構成される。別の例において、１つ以上の代表的な映像ブロックは、並置された輝度ブロック内の１つのブロックを含む。",
            "図９Ｃは、例示的な映像処理方法のさらに別のフローチャートを示す。方法９２０は、ステップ９２２において、現在の映像ブロックと、現在の映像ブロックを構成する映像のビットストリーム表現とを変換する間、条件に基づいて、現在の映像ブロックに変換スキップモードの選択的な適用に関して判定することを含む。",
            "方法９２０は、ステップ９２４において、判定に基づいて変換を実行することを含む。",
            "いくつかの実施形態において、前記条件は、シーケンスパラメータセット（ＳＰＳ）、映像パラメータセット（ＶＰＳ）、ピクチャパラメータセット（ＰＰＳ）、ピクチャヘッダ、スライスヘッダ、タイルグループヘッダ、最大符号化ユニット（ＬＣＵ）、ＬＣＵ行、ＬＣＵ群、符号化ユニット（ＣＵ）又は映像データユニットにおいて信号通知されたメッセージに基づいている。",
            "いくつかの実施例において、条件は次のうち１つ以上に基づいている。（１）現在の映像ブロック又は現在の映像ブロックの少なくとも１つの近傍ブロックのブロック寸法、（２）現在の映像ブロック又は少なくとも１つの近傍ブロックのブロック形状、（３）現在の映像ブロック又は少なくとも１つの近傍ブロックの最大確率モード、（４）少なくとも１つの近傍ブロックの予測モード、（５）少なくとも１つの近傍ブロックのイントラ予測モード、（６）少なくとも１つの近傍ブロックの１つ以上の動きベクトル、（７）少なくとも１つの近傍ブロックの量子化残差ブロックパルス符号変調（ＱＲ－ＢＤＰＣＭ）モードの指示、（８）現在の映像ブロック又は少なくとも１つの近傍ブロックの現在の量子化パラメータ（ＱＰ）、（９）現在の映像ブロックのカラーフォーマットの指示、（１０）現在の映像ブロックに関連付けられた別個の又は二重符号化ツリー構造、（１１）現在の映像ブロックのスライスタイプ、タイルグループ又はピクチャタイプ、又は（１２）時間層識別（ＩＤ）。",
            "いくつかの実施例において、変換スキップモードの適用が実行され、現在の映像ブロックの予測モードがインターブロックコピー（ＩＢＣ（Ｉｎｔｅｒ Ｂｌｏｃｋ Ｃｏｐｙ））モードであり、現在の映像ブロックの幅または高さが閾値と比較される。一例において、閾値は、ビットストリーム表現で信号通知される。別の一例において、閾値は、４、８、１６または３２に設定される",
            "さらに別の例において、この閾値は、以下のうちの１つ以上に基づく。（１）シーケンスパラメータセット（ＳＰＳ）、映像パラメータセット（ＶＰＳ）、ピクチャパラメータセット（ＰＰＳ）、ピクチャヘッダ、スライスヘッダ、タイルグループヘッダ、最大符号化ユニット（ＬＣＵ）、ＬＣＵ行、ＬＣＵ群又は符号化ユニット（ＣＵ）に通知されたメッセージ、（２）時間層識別（ＩＤ）、（３）現在の映像ブロック又は現在の映像ブロックの少なくとも１つの近傍ブロックのブロック寸法、（４）現在の映像ブロック又は少なくとも１つの近傍ブロックのブロック形状、（５）現在の映像ブロック又は少なくとも１つの近傍ブロックの最大確率モード、（６）少なくとも１つの近傍ブロックの予測モード、（７）少なくとも１つの近傍ブロックのイントラ予測モード、（８）少なくとも１つの連接ブロックの１つ以上の動きベクトル、（９）少なくとも１つの近傍ブロックの量子化残差ブロック符号変調（ＱＲ－ＢＤＰＣＭ）モードの指示、（１０）現在の映像ブロック又は少なくとも１つの近傍ブロックの現在の量子化パラメータ（ＱＰ）、（１１）現在の映像ブロックのカラーフォーマットの指示、（１２）現在の映像ブロックに関連付けられた別個又は二重符号化ツリー構造、又は（１３）現在の映像ブロックのスライスタイプ、タイルグループタイプ又はピクチャタイプ。",
            "図９Ｄは、例示的な映像処理方法のさらに別のフローチャートを示す。方法９３０は、ステップ９３２において、現在の映像ブロックと現在の映像ブロックを構成する映像のビットストリーム表現とを変換する間、ビットストリーム表現における変換スキップモードの指示に基づいて、量子化された残差ブロック差動パルス符号変調（ＱＲ－ＢＤＰＣＭ）の選択的適用に関して判定することを含む。",
            "方法９３０は、ステップ９３４において、当該判定に基づいて、変換を実行することを含む。",
            "いくつかの実施例において、変換スキップモードの表示は、変換ユニット（ＴＵ）レベルで信号通知される。",
            "図９Ｅは、例示的な映像処理方法のさらに別のフローチャートを示す。方法９４０は、ステップ９４２において、現在の映像ブロックと現在の映像ブロックを構成する映像のビットストリーム表現とを変換する間、条件に基づいて別個の又は二重ツリーの選択的適用に関して判定することを含む。",
            "方法９４０は、ステップ９４４において、当該判定に基づいて、変換を実行することを含む。",
            "いくつかの実施形態において、前記条件は、シーケンスパラメータセット（ＳＰＳ）、映像パラメータセット（ＶＰＳ）、ピクチャパラメータセット（ＰＰＳ）、ピクチャヘッダ、スライスヘッダ、タイルグループヘッダ、最大符号化ユニット（ＬＣＵ）、ＬＣＵ行、ＬＣＵ群、符号化ユニット（ＣＵ）又は映像データユニットにおいて信号通知されたメッセージに基づいている。",
            "いくつかの実施例において、前記条件は、現在の映像ブロックを構成する１つのスライス、１つのタイル、１つの最大符号化ユニット（ＬＣＵ）、１つのＬＣＵの行、１つのＬＣＵ群又は１つの映像データユニット等が画面内容であるかを決定することに基づく。一例において、この決定は、以下のうちの１つ以上に基づいて行われる。（１）シーケンスパラメータセット（ＳＰＳ）、映像パラメータセット（ＶＰＳ）、ピクチャパラメータセット（ＰＰＳ）、ピクチャヘッダ、スライスヘッダ、タイルグループヘッダ、ＬＣＵ、ＬＣＵ行、ＬＣＵ群、符号化ユニット（ＣＵ）又は映像データユニットに信号通知されたメッセージ、（２）現在の映像ブロック又は現在の映像ブロックの少なくとも１つの近傍ブロックのブロック寸法、（３）現在の映像ブロック又は少なくとも１つの近傍ブロックのブロック形状、（４）現在の映像ブロック又は少なくとも１つの近傍ブロックの現在の量子化パラメータ（ＱＰ）、（５）現在の映像ブロックのカラーフォーマットの指示、（６）現在の映像ブロックに関連する別個の又は二重符号化ツリー構造、（７）現在の映像ブロックのスライスタイプ、タイルグループタイプ又はピクチャタイプ、又は（８）時間層識別（ＩＤ）。",
            "図１０は、映像処理装置１０００のブロック図である。装置１０００は、本明細書に記載の方法の１つ以上を実装するために使用してもよい。装置１０００は、スマートフォン、タブレット、コンピュータ、ＩｏＴ（モノのインターネット）受信機等により実施されてもよい。装置１０００は、１つ以上の処理装置１００２と、１つ以上のメモリ１００４と、映像処理ハードウェア１００６と、を含んでもよい。１つまたは複数の処理装置１００２は、本明細書に記載される１つ以上の方法（方法９００、９１０，９２０，９３０および９４０を含むが、これに限定されない）を実装するように構成されてもよい。メモリ（複数可）１００４は、本明細書で説明される方法および技術を実装するために使用されるデータおよびコードを記憶するために使用してもよい。映像処理ハードウェア１００６は、本明細書に記載される技術をハードウェア回路にて実装するために使用してもよい。",
            "いくつかの実施形態において、映像符号化法は、図１０を参照して説明したように、ハードウェアプラットフォームに実装される装置を使用して実施してもよい。",
            "いくつかの実施例において、例えば、上記項目５及び１０以降に記載されるように、映像処理方法は、現在の映像ブロックに対応する符号化ツリー構造のタイプに基づいて、映像の現在の映像ブロックとビットストリーム表現との間の変換のために、イントラブロックコピーモードが適用可能であるかどうかを決定し、その決定に基づいて変換を実行することを含む。",
            "上記方法において、ビットストリーム表現は、イントラブロックコピーモードの表示を排除する。言い換えれば、ビットストリームは、ＩＢＣモードの明確な信号通知を搬送しない。",
            "上記方法において、符号化ツリー構造のタイプは二重符号化ツリー構造であり、イントラブロックコピーモードが適用可能でないと決定される。",
            "図１１は、開示された技術を実装することができる例示的な映像処理システムを示すブロック図である。様々な実装形態は、システム１１００のモジュールの一部又は全部を含んでもよい。システム１１００は、映像コンテンツを受信するための入力ユニット１１０２を含んでもよい。映像コンテンツは、未加工又は非圧縮フォーマット、例えば、８又は１０ビットのマルチモジュール画素値で受信されてもよく、又は圧縮又は符号化フォーマットで受信されてもよい。入力ユニット１１０２は、ネットワークインターフェース、周辺バスインターフェース、又は記憶インターフェースを表してもよい。ネットワークインターフェースの例は、イーサネット（登録商標）、パッシブ光ネットワーク（ＰＯＮ）等の有線インターフェース、およびＷｉ－Ｆｉ（登録商標）またはセルラーインターフェース等の無線インターフェースを含む。",
            "システム１１００は、本明細書に記載される様々な符号化又は符号化方法を実装することができる符号化モジュール１１０４を含んでもよい。符号化モジュール１１０４は、入力ユニット１１０２からの映像の平均ビットレートを符号化モジュール１１０４の出力に低減し、映像の符号化表現を生成してもよい。従って、この符号化技術は、映像圧縮または映像コード変換技術と呼ばれることがある。符号化モジュール１１０４の出力は、モジュール１１０６によって表されるように、記憶されてもよいし、接続された通信を介して送信されてもよい。入力ユニット１１０２において受信された、記憶された又は通信された映像のビットストリーム（又は符号化）表現は、モジュール１１０８によって使用されて、表示インターフェースユニット１１１０に送信される画素値又は表示可能な映像を生成してもよい。ビットストリーム表現からユーザが見ることができる映像を生成する処理は、映像伸張（映像展開）と呼ばれることがある。さらに、特定の映像処理動作を“符号化”動作又はツールと呼ぶが、符号化ツール又は動作は、エンコーダ及びそれに対応する、復号化の結果を逆にする復号化ツール又は動作が、デコーダによって行われることが理解されよう。",
            "周辺バスインターフェースユニットまたは表示インターフェースユニットの例は、ユニバーサルシリアルバス（ＵＳＢ）または高精細マルチメディアインターフェース（ＨＤＭＩ（登録商標））またはディスプレイポート等を含んでもよい。ストレージインターフェースの例は、シリアルアドバンスドテクノロジーアタッチメント（ＳＡＴＡ）、ＰＣＩ、ＩＤＥインターフェース等を含む。本明細書に記載される技術は、携帯電話、ノートパソコン、スマートフォン、又はデジタルデータ処理及び／又は映像表示を実施可能な他のデバイス等の様々な電子デバイスに実施されてもよい。",
            "図１２は、映像メディア処理方法の一例を示すフローチャートである。このフローチャートのステップは、本願の第４章の例示的な実施形態７に関連して説明する。ステップ１２０２において、前記処理は、視覚メディアデータの映像領域における現在の映像ブロックを前記視覚メディアデータのビットストリーム表現に符号化するための、符号化モードおよび／またはイントラ予測モードおよび／または許容イントラ予測モードセットの使用を識別する。ステップ１２０４において、前記処理は、前記使用を識別する際に、前記ビットストリーム表現に、前記現在の映像ブロックに変換スキップモードを選択的に適用することを示す構文要素を含めるか、または除外するかを決定することとを含み、変換スキップモードにおいて、前記現在の映像ブロックと参照映像ブロックとの予測誤差の残差を、変換を適用せずに、前記視覚メディアデータの前記ビットストリーム表現で表現する。",
            "図１３は、映像メディア処理方法の一例を示すフローチャートである。このフローチャートのステップは、本願の第４章の例示的な実施形態７に関連して説明する。ステップ１３０２において、前記処理は、視覚メディアデータの映像領域における現在の映像ブロックを前記視覚メディアデータのビットストリーム表現から復号化するための、符号化モードおよび／またはイントラ予測モードおよび／または許容イントラ予測モードセットの使用を識別する。ステップ１３０４において、前記処理は、前記使用を識別する際に、前記ビットストリーム表現に、前記現在の映像ブロックに変換スキップモードを選択的に適用することを示す構文要素を含めるか、または除外するかの決定を行うこととを含み、変換スキップモードにおいて、前記現在の映像ブロックと参照映像ブロックとの予測誤差の残差を、変換を適用せずに、前記視覚メディアデータの前記ビットストリーム表現で表現する。",
            "図１４は、映像メディア処理方法の一例を示すフローチャートである。このフローチャートのステップは、本願の第４章の例示的な実施形態７に関連して説明する。ステップ１４０２において、前記処理は、視覚メディアデータの映像領域における現在の映像ブロックを前記視覚メディアデータのビットストリーム表現から復号化するための、符号化モードおよび／またはイントラ予測モードおよび／または許容イントラ予測モードセットの使用を識別する。ステップ１４０４において、前記処理は、前記使用を識別する際に、前記ビットストリーム表現に、前記現在の映像ブロックに変換スキップモードを選択的に適用することを示す構文要素を含めるか、または除外するかを決定することとを含み、変換スキップモードにおいて、前記現在の映像ブロックと予測映像ブロックとの残差を、変換を適用せずに、前記視覚メディアデータの前記ビットストリーム表現で表現する。",
            "図１５は、映像メディア処理方法の一例を示すフローチャートである。このフローチャートのステップは、本願の第４章の例示的な実施形態９ｄに関連して説明する。ステップ１５０２において、前記処理は、視覚メディアデータの映像領域における現在の映像ブロックを前記視覚メディアデータのビットストリーム表現に符号化するために、少なくとも、二重ツリー符号化構造を有効化すると決定したことに基づいて、または決定したことから推測して、単一または二重ツリー符号化構造の選択的適用に関する決定を行う。ステップ１５０４において、このプロセスは、ビットストリーム表現における単一ツリー又は二重ツリーの選択的適用を示す構文要素を含む。",
            "図１６は、映像メディア処理方法の一例を示すフローチャートである。このフローチャートのステップは、本願の第４章の例示的な実施形態９ｄに関連して説明する。ステップ１６０２において、この処理は、現在の映像ブロックを含む映像領域を備える視覚メディアデータのビットストリーム表現から、少なくとも前記二重ツリー符号化構造を有効化すると決定したことに基づいて、または決定したことから推測された単一または二重ツリー符号化構造の選択的適用を示す構文要素を構文解析する。ステップ１６０４において、このプロセスは、構文要素に従って現在の映像ブロックを復号することで、ビットストリーム表現から復号された映像領域を生成する。",
            "図１７は、映像メディア処理方法の一例を示すフローチャートである。このフローチャートのステップは、本願の第４章の例示的な実施形態１６に関連して説明する。ステップ１７０２において、前記処理は、視覚メディアデータの現在の映像ブロックと前記視覚メディアのビットストリーム表現との変換のため、前記現在の映像ブロックの彩度成分にイントラブロックコピー（ＩＢＣ）モードを適用することを決定する。ステップ１７０４において、前記処理は、前記現在の映像ブロックの並置された輝度ブロック内のＩＢＣ符号化されたサブ領域に含まれる第１に利用可能なサンプルを使用して前記現在の映像ブロックのサブブロックに関連付けられた動き情報を導出する。",
            "図１８は、映像メディア処理方法の一例を示すフローチャートである。このフローチャートのステップは、本願の第４章の例示的な実施形態１７に関連して説明する。ステップ１８０２において、前記処理は、視覚メディアデータの現在の映像ブロックと前記視覚メディアのビットストリーム表現との変換のため、前記現在の映像ブロックにイントラブロックコピー（ＩＢＣ）モードを適用することを決定する。ステップ１８０４において、前記処理は、ビットストリーム表現において、前記現在の映像ブロックに関連付けられた動き情報を示す構文要素を含む。",
            "図１９は、映像メディア処理方法の一例を示すフローチャートである。このフローチャートのステップは、本願の第４章の例示的な実施形態１７ｅに関連して説明する。ステップ１９０２において、前記処理は、視覚メディアデータの現在の映像ブロックと前記視覚メディアのビットストリーム表現との変換のため、前記現在の映像ブロックにイントラブロックコピー（ＩＢＣ）モードを適用することを決定する。ステップ１９０４において、前記処理は、少なくとも１つ以上の条件に基づいて、前記現在の映像ブロックに関連付けられた動き情報を示す構文要素をビットストリーム表現に選択的に含めるかまたは除外するかを決定する。",
            "本明細書のいくつかの実施形態は、項に基づく形式で提示される。",
            "１．視覚メディアを符号化する方法であって、以下を含む。 視覚メディアデータの映像領域における現在の映像ブロックを前記視覚メディアデータのビットストリーム表現に符号化するために、符号化モードおよび／またはイントラ予測モードおよび／または許容イントラ予測モードセットの使用を識別することと、 前記使用を識別する際に、前記ビットストリーム表現に、前記現在の映像ブロックに変換スキップモードを選択的に適用することを示す構文要素を含めるか、または除外するかを決定することとを含み、変換スキップモードにおいて、前記現在の映像ブロックと参照映像ブロックとの予測誤差の残差を、変換を適用せずに、前記視覚メディアデータの前記ビットストリーム表現で表現する。",
            "２．視覚メディアを復号化する方法であって、以下を含む。 視覚メディアデータの映像領域における現在の映像ブロックを前記視覚メディアデータのビットストリーム表現から復号化するために、符号化モードおよび／またはイントラ予測モードおよび／または許容イントラ予測モードセットの使用を識別することと、 前記使用を識別する際に、前記ビットストリーム表現に、前記現在の映像ブロックに変換スキップモードを選択的に適用することを示す構文要素を含めるか、または除外するかの決定を行うこととを含み、変換スキップモードにおいて、前記現在の映像ブロックと参照映像ブロックとの予測誤差の残差を、変換を適用せずに、前記視覚メディアデータの前記ビットストリーム表現で表現する。",
            "３．前記許容イントラ予測モードセットは、前記現在の映像ブロックの量子化残差ブロック差動パルス符号変調（ＱＲ－ＢＤＰＣＭ）技術で使用するイントラモードセットに対応し、前記ＱＲ－ＢＤＰＣＭ技術において、前記現在の映像ブロックのイントラ予測の量子化残差と前記量子化残差の予測との差は、差分パルス符号化変調（ＤＰＣＭ）を使用して前記現在の映像ブロックの前記ビットストリーム表現で表現される、項目１～２のいずれか１つ以上に記載の方法。",
            "４．前記符号化モードがＱＲ－ＢＤＰＣＭ技術で使用される複数の符号化モードの１つに属している場合には、前記構文要素は、前記ビットストリーム表現から除外され、ＱＲ－ＢＤＰＣＭ技術において、前記現在の映像ブロックのイントラ予測の量子化残差と前記量子化残差の予測との差は、差分パルス符号化変調（ＤＰＣＭ）を使用して前記現在の映像ブロックの前記ビットストリーム表現で表現される、項目１～２のいずれか１つ以上に記載の方法。",
            "５．前記イントラ予測モードが、前記現在の映像ブロックのＱＲ－ＢＤＰＣＭ技術で使用されるイントラモードセットに属する場合、前記構文要素は、前記ビットストリーム表現から除外され、前記ＱＲ－ＢＤＰＣＭ技術において、前記現在の映像ブロックのイントラ予測の量子化残差と前記量子化残差の予測との差は、差分パルス符号化変調（ＤＰＣＭ）を使用して前記現在の映像ブロックの前記ビットストリーム表現で表現される、項目１～２のいずれか１つ以上に記載の方法。",
            "６．前記ＱＲ－ＢＤＰＣＭ技術を前記現在の映像ブロックに適用すると決定したことに呼応して、前記構文要素が、前記ビットストリーム表現から除外され、前記変換スキップモードが適用されると推測され、ＱＲ－ＢＤＰＣＭ技術において、前記現在の映像ブロックのイントラ予測の量子化残差と前記量子化残差の予測との差は、差分パルス符号化変調（ＤＰＣＭ）を使用して前記現在の映像ブロックの前記ビットストリーム表現で表現される、項目１～２のいずれか１つ以上に記載の方法。",
            "７．前記変換スキップモードを選択的に適用するかまたはスキップすることは、以下のうちの１つ以上にさらに基づいている、項目１～６のいずれか１つ以上に記載の方法。 （１）シーケンスパラメータセット（ＳＰＳ）、映像パラメータセット（ＶＰＳ）、ピクチャパラメータセット（ＰＰＳ）、ピクチャヘッダ、スライスヘッダ、タイルグループヘッダ、最大符号化ユニット（ＬＣＵ）、ＬＣＵ行、ＬＣＵ群又は符号化ユニット（ＣＵ）において信号通知されたメッセージ、 （２）現在の映像ブロック又は現在の映像ブロックの少なくとも１つの近傍のブロックのブロック寸法、 （３）現在の映像ブロック又は少なくとも１つの近傍のブロックのブロック形状、 （４）現在の映像ブロック又は少なくとも１つの近傍のブロックの最大確率モード、 （５）少なくとも１つの近傍のブロックの予測モード、 （６）少なくとも１つの近傍のブロックのイントラ予測モード、 （７）少なくとも１つの近傍のブロックの１つ以上の動きベクトル、 （８）少なくとも１つの近傍のブロックのＱＲ－ＢＤＰＣＭ技術の指示、 （９）現在の映像ブロック又は少なくとも１つの近傍ブロックの現在の量子化パラメータ（ＱＰ）、 （１０）現在の映像ブロックのカラーフォーマットの指示、 （１１）現在の映像ブロックに関連付けられた別個の又は二重の符号化ツリー構造、 （１２）現在の映像ブロックのスライスタイプ、タイルグループタイプ又はピクチャタイプ、又は （１３）時間層ＩＤ。",
            "８． 視覚メディアを復号化する方法であって、以下を含む。 視覚メディアデータの映像領域における現在の映像ブロックを前記視覚メディアデータのビットストリーム表現から復号化するために、符号化モードおよび／またはイントラ予測モードおよび／または許容イントラ予測モードセットの使用を識別することと、 前記処理は、前記使用を識別する際に、前記ビットストリーム表現に、前記現在の映像ブロックに変換スキップモードを選択的に適用することを示す構文要素を含めるか、または除外するかの決定を行うこととを含み、変換スキップモードにおいて、前記現在の映像ブロックと予測映像ブロックとの残差を、変換を適用せずに、前記視覚メディアデータの前記ビットストリーム表現で表現する。",
            "９．視覚メディアを符号化する方法であって、以下を含む。 前記処理は、視覚メディアデータの映像領域における現在の映像ブロックを前記視覚メディアデータのビットストリーム表現に符号化するために、少なくとも、二重ツリー符号化構造を有効化すると決定したことに基づいて、または決定したことから推測して、単一または二重ツリー符号化構造の選択的適用に関する決定を行うことと、 ビットストリーム表現における単一又は二重ツリーの選択的適用を示す構文要素を含む。",
            "１０．視覚メディアを復号化する方法であって、以下を含む。 現在の映像ブロックを含む映像領域を備える視覚メディアデータのビットストリーム表現から、少なくとも前記二重ツリー符号化構造を有効化すると決定したことに基づいて、または決定したことから推測された単一または二重ツリー符号化構造の選択的適用を示す構文要素を構文解析することと、 構文要素に従って、現在の映像ブロックを復号することで、ビットストリーム表現から復号された映像領域を生成する。",
            "１１．前記二重ツリー符号化構造は、第１の映像レベルに関連付けられ、前記構文要素は、第２の映像レベルに関連付けられる、項目９～１０のいずれか１つ以上に記載の方法であって、さらに、以下を含む。 第１の映像レベルに関連付けられた二重ツリー符号化構造を無効化することを決定すると、第２の映像レベルに関連付けられた構文要素をブール偽と推測すること。",
            "１２．前記構文要素は、前記ビットストリーム表現に含まれる、項目１１に記載の方法。",
            "１３．前記第２の映像レベルが前記第１の映像レベルよりも低い、項目１１～１２のいずれか１つ以上に記載の方法。",
            "１４．前記第２の映像レベルは、符号化ツリーユニット（ＣＴＵ）レベルであり、前記第１の映像レベルは、シーケンス／スライス／タイル／ブリックレベルである、項目１１～１２のいずれか１つ以上に記載の方法。",
            "１５．前記構文要素は、符号化ツリーユニット（ＣＴＵ）レベルに関連付けられる、項目９～１０のいずれか１つ以上に記載の方法であって、さらに以下を含む。 ブーリアン真であるフラグに少なくとも基づいて、ビットストリーム表現における構文要素を含めること。",
            "１６．前記フラグは前記ＣＴＵレベルよりも高いレベルにある、項目１５に記載の方法。",
            "１７． 前記構文要素は、符号化ツリーユニット（ＣＴＵ）レベルに関連付けられる、項目９～１０のいずれか１つ以上に記載の方法であって、さらに以下を含む。 前記ＣＴＵレベルよりも高いレベルのフラグがブーリアン偽であると決定されると、前記ビットストリーム表現における前記構文要素をブーリアン偽と推測すること。",
            "１８．前記構文要素は、符号化ツリーユニット（ＣＴＵ）レベルよりも低いレベルにある、項目９～１０のいずれか１つ以上に記載の方法。",
            "１９．前記前記構文要素は、仮想パイプラインデータユニット（ＶＰＤＵ）レベルにある、項目１８に記載の方法。",
            "２０．前記構文要素は、分割ツリーの信号通知レベルに対応するレベルにある、項目１８に記載の方法。",
            "２１．視覚メディア処理方法であって、以下を含む。 前記処理は、視覚メディアデータの現在の映像ブロックと前記視覚メディアのビットストリーム表現との変換のため、前記現在の映像ブロックの彩度成分にイントラブロックコピー（ＩＢＣ）モードを適用することを決定すること、および 前記現在の映像ブロックの並置された輝度ブロック内のＩＢＣ符号化されたサブ領域に含まれる第１に利用可能なサンプルを使用して前記現在の映像ブロックのサブブロックに関連付けられた動き情報を導出することと、を含む。",
            "２２．前記並置された輝度ブロック内の前記ＩＢＣ符号化されたサブ領域を、順番に従ってスキャンする、項目２１に記載の方法。",
            "２３．前記順序はラスタスキャン順である、項目２２に記載の方法。",
            "２４．前記動き情報は、サブブロックまたはサブサンプルの動きベクトルまたはブロックベクトルである、項目２１に記載の方法。",
            "２５．前記ＩＢＣ符号化されたサブ領域のサイズは、最小符号化ユニットのサイズに対応する、項目２１に記載の方法。",
            "２６．前記ＩＢＣ符号化されたサブ領域のサイズは、最小変換ユニットのサイズに対応する、項目２１に記載の方法。",
            "２７．前記第１に利用可能なサンプルは、並置された輝度ブロックの左上のサンプルを含み、前記左上のサンプルは、ＩＢＣ符号化サンプルである、項目２２に記載の方法。",
            "２８．前記第１に利用可能なサンプルは、並置された輝度ブロックの左上のサンプルを含み、前記左上のサンプルは、インターモード符号化サンプルである、項目２２に記載の方法。",
            "２９．前記変換は、現在の映像ブロックから前記ビットストリーム表現を生成することを含む、項目２１～２８のいずれか１つ以上に記載の方法。",
            "３０．変換は、ビットストリーム表現から現在の映像ブロックの画素値を生成することを含む、項目２１～２８のいずれか１つ以上に記載の方法。",
            "３１． 視覚メディア処理方法であって、以下を含む。 前記処理は、視覚メディアデータの現在の映像ブロックと前記視覚メディアのビットストリーム表現との変換のため、前記現在の映像ブロックにイントラブロックコピー（ＩＢＣ）モードを適用することを決定すること、および ビットストリーム表現において、現在の映像ブロックに関連付けられた動き情報を示す構文要素を含む。",
            "３２．前記構文要素は、前記現在の映像ブロックに関連付けられた動き情報と動き情報予測子との差に対応する、項目３１に記載の方法。",
            "３３．前記動き情報予測子は、前記現在の映像ブロックの並置された輝度ブロック、前記並置された輝度ブロックの１つ以上の近傍のブロック、または近傍の彩度ブロックに含まれるサンプルの動き情報を使用して算出される、項目３２に記載の方法。",
            "３４．前記並置された輝度ブロックに含まれるサンプルは、前記並置された輝度ブロックの左上サンプルである、項目３２に記載の方法。",
            "３５．前記並置された輝度ブロックに含まれるサンプルは、前記並置された輝度ブロックの中心サンプルである、項目３２に記載の方法。",
            "３６．前記並置された輝度ブロックの左上のサンプルは、ＩＢＣ符号化サンプルである、項目３４に記載の方法。",
            "３７．前記並置された輝度ブロックの左上のサンプルは、インターモード符号化サンプルである、項目３４に記載の方法。",
            "３８．前記動き情報予測子は、前記並置された輝度ブロックのサブ領域に関連付けられ、前記動き情報予測子は、前記現在の映像ブロック上の使用前にスケーリングされる、項目３３に記載の方法。",
            "３９．前記近傍の彩度ブロックは、前記現在の映像ブロックの隣接または非隣接する近傍である、項目３３に記載の方法。",
            "４０．前記現在の映像ブロックに関連付けられた前記動き情報は、候補動きベクトルリストに含まれ、前記ビットストリーム表現に含まれる前記構文要素は、前記候補動きベクトルリストを指すインデックスに対応する、項目３１に記載の方法。",
            "４１．前記候補動きベクトルリストは、前記現在の映像ブロックの並置された輝度ブロック、前記並置された輝度ブロックの１つ以上の近傍のブロック、または近傍の彩度ブロックに含まれるサンプルの動き情報を含む、項目３１に記載の方法。",
            "４２．前記ビットストリーム表現を構文解析することに、少なくとも部分的に基づいて、適応型動きベクトル解像度（ＡＭＶＲ）技術の使用の表示を推測する、項目３２に記載の方法。",
            "４３．前記現在の映像ブロックが彩度、ＩＢＣ符号化ブロックであり、さらに以下を含む、項目４２に記載の方法。 前記ＡＭＶＲ技術の使用の指示を使用して、前記現在の映像ブロックに対して前記ＡＭＶＲ技術が適用されていないことを推測すること。",
            "４４．前記現在の映像ブロックに関連付けられた前記動き情報と前記動き情報予測子との差は、整数値の精度であると推測される、項目４３に記載の方法。",
            "４５．前記変換は、現在の映像ブロックから前記ビットストリーム表現を生成することを含む、項目３１～４４のいずれか１つ以上に記載の方法。",
            "４６．変換は、ビットストリーム表現から現在の映像ブロックの画素値を生成することを含む、項目３１～４４のいずれか１つ以上に記載の方法。",
            "４７．視覚メディア処理方法であって、以下を含む。 前記処理は、視覚メディアデータの現在の映像ブロックと前記視覚メディアのビットストリーム表現との変換のため、前記現在の映像ブロックにイントラブロックコピー（ＩＢＣ）モードを適用することを決定すること、および 前記処理は、少なくとも１つ以上の条件に基づいて、前記現在の映像ブロックに関連付けられた動き情報を示す構文要素をビットストリーム表現に選択的に含めるかまたは除外するかを決定すること。",
            "４８．前記１つ以上の条件は、以下を含む、項目４７に記載の方法。 （１）現在の映像ブロックの並置された輝度ブロック内のサブ領域のＩＢＣ符号化モード、 （２）前記現在の映像ブロックの並置された輝度ブロック内のＩＢＣ符号化サブ領域に関連付けられた有効な動きベクトル、 （３）シーケンスパラメータセット（ＳＰＳ）、映像パラメータセット（ＶＰＳ）、ピクチャパラメータセット（ＰＰＳ）、ピクチャヘッダ、スライスヘッダ、タイルグループヘッダ、最大符号化ユニット（ＬＣＵ）、ＬＣＵ行、ＬＣＵ群又は符号化ユニット（ＣＵ）において信号通知されたメッセージ、 （４）他の映像ブロックに関連付けられた符号化ピクチャ／タイル／スライス／再構成領域におけるＩＢＣモードおよび／またはインターモードのハッシュヒット率、 （５）現在の映像ブロック又は現在の映像ブロックの少なくとも１つの近傍ブロックのブロック寸法、 （６）現在の映像ブロック又は少なくとも１つの近傍ブロックのブロック形状、 （７）現在の映像ブロック又は少なくとも１つの近傍ブロックの現在の量子化パラメータ（ＱＰ）、 （８）現在の映像ブロックのカラーフォーマットの指示、 （９）現在の映像ブロックに関連付けられた別個の又は二重の符号化ツリー構造、 （１０）現在の映像ブロックのスライスタイプ、タイルグループタイプ又はピクチャタイプ、又は （１１）時間層ＩＤ。",
            "４９．前記現在の映像ブロックの並置された輝度ブロック内のすべてのサブ領域をＩＢＣ符号化することを決定したことに呼応して、前記構文要素を前記ビットストリーム表現から排除する、項目４８に記載の方法。",
            "５０．前記現在の映像ブロックの並置された輝度ブロック内のすべてのＩＢＣ符号化されたサブ領域に関連付けられたすべての動きベクトルが有効であると決定したことに呼応して、前記構文要素を前記ビットストリーム表現から排除する、項目４８に記載の方法。",
            "５１．前記変換は、現在の映像ブロックから前記ビットストリーム表現を生成することを含む、項目４７～４８のいずれか１つ以上に記載の方法。",
            "５２．変換は、ビットストリーム表現から現在の映像ブロックの画素値を生成することを含む、項目４７～４８のいずれか１つ以上に記載の方法。",
            "５３．項目１～５２のいずれか１つ以上に記載の方法を実装するように構成された処理装置を備える映像エンコーダ装置。",
            "５４．項目１～５２のいずれか１つ以上に記載の方法を実装するように構成された処理装置を備える、映像デコーダ装置。",
            "５５．コードが記憶されたコンピュータ可読媒体であって、前記コードは項目１～５２のいずれか１つ以上に記載の方法を実装するための処理装置が実行可能な命令を実施する、コンピュータ可読媒体。",
            "本明細書では、“映像処理”または“映像メディア処理”という用語は、映像符号化、映像復号化、映像圧縮、または映像展開を指すことができる。例えば、映像圧縮アルゴリズムは、映像の画素表現から対応するビットストリーム表現への変換、またはその逆の変換中に適用されてもよい。現在の映像ブロックのビットストリーム表現は、例えば、構文によって規定されるように、ビットストリーム内の同じ場所または異なる場所に拡散されるビットに対応していてもよい。例えば、１つのマクロブロックは、変換および符号化された誤り残差値の観点から、且つビットストリームにおけるヘッダおよび他のフィールドにおけるビットを使用して符号化されてもよい。さらに、変換中、デコーダは、上記解決策で説明されているように、判定に基づいて、いくつかのフィールドが存在しても存在しなくてもよいという知識を持って、ビットストリームを構文解析してもよい。同様に、エンコーダは、特定のシンタックスフィールドが含まれるべきか、または含まれないべきかを判定し、構文フィールドを符号化表現に含めるか、または符号化表現から除外することによって、それに応じて符号化表現を生成してもよい。",
            "以上、説明の目的で本開示の技術の特定の実施形態を説明したが、本発明の範囲から逸脱することなく様々な修正が可能であることは、理解されるであろう。従って、本開示の技術は、添付の特許請求の範囲による場合を除き、限定されない。",
            "本特許明細書に記載された主題および機能操作の実装形態は、本明細書に開示された構造およびその構造的等価物を含め、様々なシステム、デジタル電子回路、またはコンピュータソフトウェア、ファームウェア、若しくはハードウェアで実施されてもよく、またはそれらの１つ以上の組み合わせで実施してもよい。本明細書に記載された主題の実装形態は、１つ以上のコンピュータプログラム製品、すなわち、データ処理装置によって実行されるため、又はデータ処理装置の操作を制御するために、有形で非可搬性のコンピュータ可読媒体上に符号化されたコンピュータプログラム命令の１つ以上のモジュールとして実装することができる。このコンピュータ可読媒体は、機械可読記憶装置、機械可読記憶基板、メモリデバイス、機械可読伝播信号をもたらす物質の組成物、又はこれらの１つ以上の組み合わせであってもよい。“データ処理ユニット”又は“データ処理装置”という用語は、例えば、プログラマブル処理装置、コンピュータ、又は複数の処理装置若しくはコンピュータを含め、データを処理するためのすべての装置、デバイス、および機械を含む。この装置は、ハードウェアの他に、当該コンピュータプログラムの実行環境を作るコード、例えば、処理装置ファームウェア、プロトコルスタック、データベース管理システム、オペレーティングシステム、またはこれらの１つ以上の組み合わせを構成するコードを含むことができる。",
            "コンピュータプログラム（プログラム、ソフトウェア、ソフトウェアアプリケーション、スクリプト、またはコードとも呼ばれる）は、コンパイルされた言語または解釈された言語を含む任意の形式のプログラミング言語で記述することができ、また、それは、スタンドアロンプログラムとして、またはコンピューティング環境で使用するのに適したモジュール、成分、サブルーチン、または他のユニットとして含む任意の形式で展開することができる。コンピュータプログラムは、必ずしもファイルシステムにおけるファイルに対応するとは限らない。プログラムは、他のプログラムまたはデータを保持するファイルの一部（例えば、マークアップ言語文書に格納された１つ以上のスクリプト）に記録されていてもよいし、当該プログラム専用の単一のファイルに記憶されていてもよいし、複数の調整ファイル（例えば、１つ以上のモジュール、サブプログラム、またはコードの一部を格納するファイル）に記憶されていてもよい。１つのコンピュータプログラムを、１つのサイトに位置する１つのコンピュータ、または複数のサイトに分散され通信ネットワークによって相互接続される複数のコンピュータで実行させるように展開することも可能である。",
            "本明細書に記載された処理およびロジックフローは、入力データ上で動作し、出力を生成することによって機能を実行するための１つ以上のコンピュータプログラムを実行する１つ以上のプログラマブル処理装置によって行うことができる。処理およびロジックフローはまた、特定用途のロジック回路、例えば、ＦＰＧＡ（フィールドプログラマブルゲートアレイ）またはＡＳＩＣ（特定用途向け集積回路）によって行うことができ、装置はまた、特別目的のロジック回路として実装することができる。",
            "コンピュータプログラムの実行に適した処理装置は、例えば、汎用および専用マイクロ処理装置の両方、並びに任意の種類のデジタルコンピュータの任意の１つ以上の処理装置を含む。一般的に、処理装置は、読み出し専用メモリ又はランダムアクセスメモリ又はその両方から命令及びデータを受信する。コンピュータの本質的な要素は、命令を実行するためのプロセッサと、命令およびデータを記憶するための１つ以上の記憶装置とである。一般的に、コンピュータは、データを記憶するための１つ以上の大容量記憶デバイス、例えば、磁気、光磁気ディスク、または光ディスクを含んでもよく、またはこれらの大容量記憶デバイスからデータを受信するか、またはこれらにデータを転送するように動作可能に結合されてもよい。しかしながら、コンピュータは、このようなデバイスを有する必要はない。コンピュータプログラム命令およびデータを記憶するのに適したコンピュータ可読媒体は、あらゆる形式の不揮発性メモリ、媒体、およびメモリデバイスを含み、例えば、ＥＰＲＯＭ、ＥＥＰＲＯＭ、フラッシュメモリデバイス等の半導体メモリデバイスを含む。処理装置およびメモリは、特定用途のロジック回路によって補完されてもよく、または特定用途のロジック回路に組み込まれてもよい。",
            "本明細書は、図面とともに、例示のみを目的とするものであり、例示的とは例を意味することが意図される。本明細書で使用される場合、単数形“ａ”、“ａｎ”および“ｔｈｅ”は、文脈からそうでないことが明確に示されていない限り、複数形も含むことが意図される。さらに、文脈からそうでないことが明確に示されていない限り、“または”の使用は、“および／または”を含むことが意図される。",
            "本特許明細書は多くの詳細を含むが、これらは、任意の発明の範囲又は特許請求の範囲を限定するものと解釈されるべきではなく、むしろ、特定の発明の特定の実施形態に特有であり得る特徴の説明と解釈されるべきである。本特許文献において別個の実施形態の文脈で説明されている特定の特徴は、１つの例において組み合わせて実装してもよい。逆に、１つの例のコンテクストで説明された様々な特徴は、複数の実施形態において別個にまたは任意の適切なサブコンビネーションで実装してもよい。さらに、特徴は、特定の組み合わせで作用するものとして上記に記載され、最初にそのように主張されていてもよいが、主張された組み合わせからの１つ以上の特徴は、場合によっては、組み合わせから抜粋されることができ、主張された組み合わせは、サブコンビネーションまたはサブコンビネーションのバリエーションに向けられてもよい。",
            "同様に、動作は図面において特定の順番で示されているが、これは、所望の結果を達成するために、このような動作が示された特定の順番でまたは連続した順番で行われること、または示された全ての動作が行われることを必要とするものと理解されるべきではない。また、本特許明細書に記載されている例における様々なシステムの構成要素の分離は、全ての実施形態においてこのような分離を必要とするものと理解されるべきではない。",
            "いくつかの実装形態および例のみが記載されており、この特許文献に記載され図示されているコンテンツに基づいて、他の実施形態、拡張および変形が可能である。",
            "５． 開示される技術の追加の実施例 ５．１ 二重ツリー関連実施例 ＪＶＥＴ－Ｎ１００１－ｖ７に提案された草案の変更点を以下に示す。追加するテキストを太字のイタリック体のフォントで示す。削除するテキストを太字の大文字フォントで示す。 ５．１．１ 実施形態＃１",
            "TIFF 2023120212000009.tif 45 166",
            "５．１．２ 実施形態＃２ ７．３．２．３ シーケンスパラメータセットＲＢＳＰ構文",
            "TIFF 2023120212000010.tif 71 166",
            "５．１．３ 実施形態＃３ ７．３．５ スライスヘッダ構文 ７．３．５．１ 一般スライスセグメントヘッダ構文",
            "TIFF 2023120212000011.tif 98 166",
            "ｓｐｓ＿ａｓｄｔ＿ｆｌａｇ＝１は、現在のシーケンスにおいて提案された方法を使用可能とすることを指定する。これが０に等しい場合、現在のシーケンスにおいて提案された方法を使用可能にすることができないことを指定する。ｓｐｓ＿ＡＳＤＴ＿ｆｌａｇが存在しない場合、０に等しいと推測される。 ｓｌｉｃｅ＿ａｓｄｔ＿ｆｌａｇ＝１は、提案された方法を現在のスライスにおいて有効にすることができることを指定する。これが０に等しい場合、提案された方法を現在のスライスで使用可能にすることができないことを指定する。ｓｌｉｃｅ＿ＡＳＤＴ＿ｆｌａｇが存在しない場合、これは０に等しいと推測される。 ７．３．７．２ 符号化ツリーユニット構文",
            "TIFF 2023120212000012.tif 75 166",
            "ｃｔｕ＿ｄｕａｌ＿ｔｒｅｅ＿ｉｎｔｒａ＿ｆｌａｇ＝１は、現在のＣＴＵが二重ツリー符号化構造を採用していることを指定する。これは、０に等しく、現在のＣＴＵが単一のツリー符号化構造を使用することを指定する。ｃｔｕ＿ｄｕａｌ＿ｔｒｅｅ＿ｉｎｔｒａ＿ｆｌａｇが存在しない場合、０に等しいと推測される。",
            "５．１．４ 実施形態＃４ ７．３．５ スライスヘッダ構文 ７．３．５．１ 一般スライスセグメントヘッダ構文",
            "TIFF 2023120212000013.tif 99 166",
            "ｓｐｓ＿ａｓｄｔ＿ｆｌａｇ＝１は、現在のシーケンスにおいて提案された方法を使用可能とすることを指定する。これが０に等しい場合、現在のシーケンスにおいて提案された方法を使用可能にすることができないことを指定する。ｓｐｓ＿ＡＳＤＴ＿ｆｌａｇが存在しない場合、０に等しいと推測される。 ｓｌｉｃｅ＿ａｓｄｔ＿ｆｌａｇ＝１は、提案された方法を現在のスライスにおいて有効にすることができることを指定する。これが０に等しい場合、提案された方法を現在のスライスで使用可能にすることができないことを指定する。ｓｌｉｃｅ＿ＡＳＤＴ＿ｆｌａｇが存在しない場合、これは０に等しいと推測される。 ７．３．７．２ 符号化ツリーユニット構文",
            "TIFF 2023120212000014.tif 71 166",
            "ｃｔｕ＿ｄｕａｌ＿ｔｒｅｅ＿ｉｎｔｒａ＿ｆｌａｇ＝１は、現在のＣＴＵが二重ツリー符号化構造を採用していることを指定する。これは、０に等しく、現在のＣＴＵが単一のツリー符号化構造を使用することを指定する。ｃｔｕ＿ｄｕａｌ＿ｔｒｅｅ＿ｉｎｔｒａ＿ｆｌａｇが存在しない場合、０に等しいと推測される。 ５．２ ＩＢＣ関連実施例 ７．３．７．５ 符号化ユニット構文",
            "TIFF 2023120212000015.tif 102 166",
            "８．６ ＩＢＣ予測モードで符号化されたユニットを符号化するための復号処理 ８．６．１ ＩＢＣ予測モードで符号化されたユニットを符号化するための一般的な復号処理",
            "この処理への入力は以下の通りである。 － 現在のピクチャの左上の輝度サンプルに対する現在の符号化ブロックの左上のサンプルを規定する輝度位置（ｘＣｂ，ｙＣｂ）、 － 輝度サンプルにおける現在の符号化ブロックの幅を規定する変数ｃｂＷｉｄｔｈ、 － 輝度サンプルにおける現在の符号化ブロックの高さを規定する変数ｃｂＨｅｉｇｈｔ、 － 単一ツリーを使用するか二重ツリーを使用するかを指定する変数ツリータイプ、および二重ツリーを使用する場合、現在のツリーが輝度成分に対応するか色度成分に対応するかを指定する。",
            "この処理の出力は、インループ・フィルタリング前の修正された再構成画像である。",
            "輝度位置（ｘＣｂ，ｙＣｂ）、輝度サンプルｃｂＷｉｄｔｈにおける現在の符号化ブロックの幅、輝度サンプルｃｂＨｅｉｇｈｔにおける現在の符号化ブロックの高さ、及び変数ツリータイプを入力として、８．７．１項に規定される量子化パラメータの導出処理を呼び出す。",
            "ｉｂｃ予測モードで符号化されたユニットを符号化するための復号プロセスは、以下の順序付けられたステップからなる。 １．現在の符号化ユニットの動きベクトル成分は、以下のように導出される。 TIFF 2023120212000016.tif 12 165 － 輝度符号化ブロックの位置（ｘＣｂ，ｙＣｂ）、輝度符号化ブロックの幅ｃｂＷｉｄｔｈ、輝度符号化ブロックをと、高さｃｂＨｅｉｇｈｔを入力とし、輝度動きベクトルｍｖＬ［０］［０］を出力として、項目８．６．２．１に規定された動きベクトル成分の導出処理が呼び出される。 － ツリータイプがＳＩＮＧＬＥ＿ＴＲＥＥに等しい場合、８．６．２．５項の彩度動きベクトルの導出処理が、入力として輝度動きベクトルｍｖＬ［０］［０］、出力として彩度動きベクトルｍｖＣ［０］［０］を用いて実行される。 － 水平方向ｎｕｍＳｂＸ及び垂直方向ｎｕｍＳｂＹにおける輝度符号化サブブロックの数は、いずれも１に設定される。 TIFF 2023120212000017.tif 171 165 TIFF 2023120212000018.tif 135 165 ２．現在の符号化ユニットの予測サンプルは、以下のように導出される。 TIFF 2023120212000019.tif 12 165 ・８．６．３．１項に規定されるｉｂｃブロックの復号処理は、輝度符号化ブロックの位置（ｘＣｂ，ｙＣｂ）、輝度符号化ブロックの幅ｃｂＷｉｄｔｈおよび輝度符号化ブロックの高さｃｂＨｅｉｇｈｔ、水平方向ｎｕｍＳｂＸおよび垂直方向ｎｕｍＳｂＹにおける輝度符号化サブブロックの数、ｘＳｂＩｄｘ＝０．．ｎｕｍＳｂＸ－１およびＳｂＩｄｘ＝０．．ｎｕｍＳｂＹ－１を有する輝度動きベクトルｍｖＬ［ｘＳｂＩｄｘ］［ｙＳｂＩｄｘ］、および０に等しく設定された変数ｃＩｄｘを入力とし、予測輝度サンプルの（ｃｂＷｉｄｔｈ）×（ｃｂＨｅｉｇｈｔ）配列ｐｒｅｄＳａｍｐｌｅｓＬであるｉｂｃ予測サンプル（ｐｒｅｄＳａｍｐｌｅｓ）を出力として呼び出される。 TIFF 2023120212000020.tif 17 165 ・８．６．３．１項に規定されるｉｂｃブロックの復号処理は、輝度符号化ブロックの位置（ｘＣｂ，ｙＣｂ）、輝度符号化ブロックの幅ｃｂＷｉｄｔｈおよび輝度符号化ブロックの高さｃｂＨｅｉｇｈｔ、水平方向ｎｕｍＳｂＸおよび垂直方向ｎｕｍＳｂＹにおける輝度符号化サブブロックの数、ｘＳｂＩｄｘ＝０．．ｎｕｍＳｂＸ－１およびｙＳｂＩｄｘ＝０．．ｎｕｍＳｂＹ－１を有する彩度動きベクトルｍｖＣ［ｘＳｂＩｄｘ］、および１に等しく設定された変数ｃＩｄｘを入力とし、彩度成分Ｃｂに対する予測彩度サンプルの（ｃｂＷｉｄｔｈ／２）×（ｃｂＨｅｉｇｈｔ／２）配列ｐｒｅｄＳａｍｐｌｅｓＣｂであるｉｂｃ予測サンプル（ｐｒｅｄＳａｍｐｌｅｓ）を出力として呼び出される。 ・８．６．３．１項に規定されるｉｂｃブロックの復号処理は、輝度符号化ブロックの位置（ｘＣｂ，ｙＣｂ）、輝度符号化ブロックの幅ｃｂＷｉｄｔｈおよび輝度符号化ブロックの高さｃｂＨｅｉｇｈｔ、水平方向ｎｕｍＳｂＸおよび垂直方向ｎｕｍＳｂＹにおける輝度符号化サブブロックの数、ｘＳｂＩｄｘ＝０．．ｎｕｍＳｂＸ－１、ｙＳｂＩｄｘ＝０．．ｎｕｍＳｂＹ－１を有する彩度動きベクトルｍｖＣ［ｘＳｂＩｄｘ］、および２に等しく設定された変数ｃＩｄｘを入力とし、彩度成分Ｃｒに対する予測彩度サンプルの（ｃｂＷｉｄｔｈ／２）×（ｃｂＨｅｉｇｈｔ／２）配列ｐｒｅｄＳａｍｐｌｅｓＣｒであるｉｂｃ予測サンプル（ｐｒｅｄＳａｍｐｌｅｓ）を出力として呼び出される。 ３．変数ＮｕｍＳｂＸ［ｘＣｂ］［ｙＣｂ］およびＮｕｍＳｂＹ［ｘＣｂ］［ｙＣｂ］は、それぞれｎｕｍＳｂＸおよびｎｕｍＳｂＹに等しく設定される。 ４．現在の符号化ユニットの残差サンプルは、以下のように導出される。 TIFF 2023120212000021.tif 38 165 TIFF 2023120212000022.tif 38 165 TIFF 2023120212000023.tif 38 165 ５．現在の符号化ユニットの再構成されたサンプルは、以下のように導出される。 TIFF 2023120212000024.tif 48 165 TIFF 2023120212000025.tif 53 165 TIFF 2023120212000026.tif 53 165"
        ]
    }
}